---
title: 计网实践作业
date: 2024-05-04 17:43:35
tags: []
categories:
cover: https://w.wallhaven.cc/full/8o/wallhaven-8oky1j.jpg
---
# 计网实践作业

## 实践二

【思考1】：CoaxialSplitter 在何种场景下会使用？是如何使用的？



同轴电缆信号分配器是专门设计用来将单一信号流分散至多个频道的设备，这种设备在闭路电视、卫星广播和其它通信系统中扮演着重要角色。这类分配器有能力把单一的输入信号复制成两份或更多份的输出信号，允许不止一个终端同时接收和使用同一信号。

该分配器由信号输入接口、信号输出接口、内部信号引导组件（例如基于特定型号如DS1233-10+的信号耦合器和分支器）、外围防护壳等构成。信号输入接口负责接入来自信号源的原始信号，而内部引导组件则负责对这个信号进行有效的分割处理，最后，处理后的信号被输送到各个信号输出接口。





【思考3】：

 （3.1）IP 地址及子网掩码设置的特点是什么？

ip地址设置不重复，前24位相同，子网掩码设置相同，因为4台pc在同一个网络中



 （3.2）Hub 和Repeater 工作特点是什么？

**Hub（集线器）**：

  Hub的主要功能是将多个网络设备汇集到一个中心点，通过其拥有的多个端口，使不同的设备能够相互连接。然而，Hub在数据处理上有一个显著的特点：当接收到一个数据包时，它会不加选择地将这个数据包复制到所有与之相连的端口上，而不对其进行任何目标地址的过滤。

**Repeater（中继器）**：

  Repeater的主要作用在于强化网络传输过程中衰减的信号。它工作在OSI参考模型的物理层，专注于物理信号的传输和再生。当信号在传输过程中由于距离、材质或其他因素而衰减时，Repeater能够捕捉到这些信号，按位进行信息的传递，并对衰减的信号进行放大和调整，从而确保信号的完整性和强度，以延长网络信号的传输距离。



思考4】：如果在步骤3的网络中，出现PC终端间ping测试不成功，可 能会是什么原因导致的？

pc的ip地址设置错误、子网掩码设置错误，集线器和中继器的端口可能被关闭（输入了shutdown命令）



![image-20240430203247465](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430203247465.png)



![image-20240430203736699](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430203736699.png)

![image-20240430203825874](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430203825874.png)

RS-232是什么接口？外形如何？有何用处？

**RS-232是一种常用的串行通信接口标准**，它的外形通常为**DB-9或DB-25的连接器形式**，主要用途是**实现计算机与外部设备之间的数据传输**

每种接头都有公头和母头之分，其中带针状的接头是公头，而带孔状的接头是母头。9针串口的外观如下图所示。

![image-20240430203655484](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430203655484.png)









## 实践三

【思考1】：查阅并回答eNSP中进行“线缆”选择时，下面这些线缆的特点 和应用场景是什么。

Auto：自动线，自动选择接口连接设备
copper：双绞线，连接设备的以太网和千光以太网接口（Ethernet口和GE口）
serial：串行线，可以堆叠交换机使用，路由器连接路由器可以用Serial端口连接
POS：光纤，连接设备的POS口
E1：连接设备的E1口（2M接口），广泛使用的是脉冲编码调制（即PCM）编码进行数模转换
ATM：连接设备的G.SHDSL口
CTL：连接PC与设备之间的串口





【思考2】：查阅并回答交换机S3700和S5700的区别是什么？在具体应用场 景上会如何选择具体网络设备型号？

1. **性能**：S3700系列是百兆三层交换机，支持千兆上行链路，适用于中型网络的接入层和小型网络的汇聚层。而S5700系列则是全千兆三层交换机，拥有更高的转发能力和更多的功能特性，适合用于更大规模的网络环境。
2. **速率**：S3700系列的端口速率最高可达百兆，而S5700系列则提供全线速的千兆端口，这意味着在数据传输速度上S5700更快。



根据网络的规模大小、采购经费、安全性以及速率等要求进行设备的选择



【思考3】： 

（3.1）观察并总结出现在整个网络的PC终端的IP地址设置有什么特点？所有PC终端的IP地址设置中，有设置“网关”吗？网关的设置对本次实践目 标【2】（即：实现网络内部PC终端间的连通性测试）有影响吗？为什么呢？ 

ip设置的特点是前24位一致，说明4台pc同网段。pc配置时没有设置网关。没有影响，4台pc处于同一个网络下，不需要网关，只需要借助arp获取到地址后就能直接进行通信

（3.2）交换机转发数据的工作特点是什么？截图展示本次实践网络中的交换 机的转发表，如下图所示。思考并回答交换机的转发表是如何建立、完善和实时匹配通信网络的互连关系的。

**MAC地址学习**：交换机能够通过检查进入帧的源MAC地址，并将该地址与帧进入的端口映射，存储在动态的MAC地址表中。这些表项会定期更新，超过一定生存期（通常300秒）的表项会被自动清除。

交换机能根据数据帧中的目的MAC地址来确定转发路径。它通过内部转发规则表查询出口路径，确保数据能够送达正确目的地。

![image-20240430220149968](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430220149968.png)



![image-20240430220537534](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240430220537534.png)



1. **理解数据链路层的作用**:
   
   - 学习数据链路层如何提供物理寻址（MAC地址）及如何在两个相邻网络节点之间可靠地传输数据帧。
   - 掌握数据链路层如何检测并处理传输错误，例如通过帧校验序列（FCS）。
   
2. **掌握网桥和交换机的基本工作原理**:
   - 了解网桥和二层交换机如何使用MAC地址表进行数据帧的过滤和转发决策。
   - 学习这些设备是如何隔离冲突域，从而减少网络上的拥塞和提高整体性能。

3. **网络设计和拓扑结构**:
   - 通过实践了解不同类型的网络拓扑（如星形、环形、总线形等）以及网桥和交换机在其中的作用。
   - 学习如何根据实际需求设计合理的网络拓扑，使得资源分配最优化，同时保持网络的可扩展性和灵活性。

4. **理解转发表的建立和维护**:
   - 深入理解转发表的建立过程，包括源地址学习和老化机制。
   - 掌握透明网桥与源路由网桥的区别，以及它们在维护和更新转发表方面的不同策略。

7. **故障诊断与排除**:
   - 学会使用各种网络监控和诊断工具，比如网络嗅探器和分析器，来监视网络流量并排查问题。
   - 掌握解读MAC地址表和理解其对故障诊断的帮助。




## 实践四

 port link-type access
 port default vlan 166

![image-20240504110229938](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504110229938.png)



![image-20240504110727092](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504110727092.png)

【思考1】：【截图并观察】交换机LSW1和LSW2的转发表（如下)。 你认为说明了什么？ 

4台pc都处于默认的vlan1下，属于同一个网段下且vlan相同则可以通信，sw1去下面两个mac地址从eth0/0/3接口发出



思考2：本款华为网络设备的命令模式有哪些？请列举部分说明。

用户视图:

![image-20240504112318501](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504112318501.png)

系统视图：用户视图下输入sys进入系统视图

![image-20240504112450767](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504112450767.png)

接口视图：系统视图下输入int 接口名称进入接口视图

![image-20240504112831165](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504112831165.png)

路由协议视图：系统视图下输入协议名称进入到协议视图中

![image-20240504113104630](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504113104630.png)



思考3：【截图并观察】本次实践网络中的交换机的转发表，对比“ 步骤 1”中交换机的转发表情况，说明发生变化的情况。

vlan条目从vlan 1变成了vlan166和vlan 167 这说明4台pc已经被分到了不同的vlan下，不同的vlan不能进行通信

![image-20240504113726729](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504113726729.png)

思考4： 

（4.1）分别抓取上图中LSW1中“access”和“trunk”端口进（收）/出（发） 的数据包情况，并说明两种端口收/发数据的特点。 

![image-20240504111447990](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504111447990.png)

发送数据时：access口对数据包进行vlan的包装并且打上了标签166，而从trunk口发出的时候，因为166vlan号是允许通过的，不做处理直接发出



收数据时过程：刚进入trunk口有vlan标识166，在允许的范围之中，可以进入，而access发现有标识，发送给pc的时候将标签剥离

![image-20240504115657534](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504115657534.png)

（4.2）若出现同网段同VLAN-id的PC终端间ping测试不成功，分析可能会是什么原因导致的？并自行尝试解决。

端口状态设置错误，比如说将access口设置成了trunk口

交换机端口不小心输入了shutdown导致端口堵塞

子网掩码设置错误

软件bug



【思考5】： （5.1）在本实践应用中，在任意PC中发送设定的广播包，观察广播包传输的区域和范围，与“VLAN逻辑组”的关系。 

发送的广播报文只有相同vlanid的pc之间可以收到，也就是说vlan逻辑组弥补了交换机无法分割广播域的问题，不同vlan之间就是逻辑上的不同的广播域



（5.2）如下图所示，端口类型“hybird”“dot1q-tunnel”有何种应用需求意义？

- **Hybrid 端口**: 。Hybrid接口既可以连接普通终端的接入链路，又可以连接交换机间的干道链路，它允许多个VLAN帧通过，并且在出接口方向将某些VLAN帧的标签剥掉。
- **Dot1q-tunnel 端口**: 又称为QinQ端口，这种端口无论接收到的报文是否已经携带了VLAN标签，都会在外层叠加一个默认的VLAN标签。



## 实践五





![image-20240504141316970](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504141316970.png)



![image-20240504141441919](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504141441919.png)







![image-20240504144427967](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504144427967.png)



![image-20240504153138914](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504153138914.png)





![image-20240504154213645](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504154213645.png)







![image-20240504154150077](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504154150077.png)





![image-20240504154157533](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504154157533.png)







【思考1】：【截图并说明】三层交换机5700/路由器 的路由表，说明其直连路由情况。 

![image-20240504144319318](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504144319318.png)



直连路由有配置的虚拟网关的网段50.66.1.0 50.66.2.0，还有本地测试环回口127.0.0.1



【思考2】：在上图实践内容中，路由器R1和R2的路由表中，其直连网段分别是什么？

![image-20240504154842731](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504154842731.png)



![image-20240504154901418](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504154901418.png)



对于路由器1直连路由有网段50.66.1.0 50.66.3.0还有本地测试环回口127.0.0.1

对于路由器2直连路由有网段50.66.2.0 50.66.3.0还有本地测试环回口127.0.0.1



思考3：在上图实践内容中，路由器R2上的静态路由该如何设置？若配置此指令 “[R1]ip route-static 0.0.0.0 0.0.0.0 3.3.3.2 ”，是什么含义？

r2上的静态路由应该配置为：ip route-static 50.66.1.0 255.255.255.0 50.66.3.1（意思是去50.60.1.0网段的数据包要交附给50.66.3.1）



“[R1]ip route-static 0.0.0.0 0.0.0.0 3.3.3.2 ”的是r1所有数据包都交付给3.3.3.2



思考4：图4.2中，说明路由器R1接口GE0/0/1与L3LSW的GE0/0/23端口该如何有效配置？路由如何设置，以实现各网段间的互联互通？结合逻辑拓扑和物理连接拓扑情况， 【截图并说明】三层交换机L3LSW/路由器R1的路由表情况。

R1接口GE0/0/1配置地址为50.66.3.1，然后L3LSW的GE0/0/2端口设置新的vlan并且进行绑定，模式为access，配置ip为50.66.3.2



运行ospf协议进行路由共享，或者使用静态路由（失败了）



r1路由表中是两个网段的网关，出接口50.66.3.1地址以及本地环回接口

![image-20240504172834926](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504172834926.png)

交换机本地两个网关以及出接口50.66.3.2地址，本地环回口地址

![image-20240504171850905](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504171850905.png)

思考5】：为什么可以在网络中设置使用两个相同的VLAN-id（两个VLAN100和 VLAN101）

特殊场景需要：某些特殊的网络场景可能需要两个或多个端口共享相同的VLAN-id，以便实现特定的通信或数据流控制。





思考6：若出现不同网段间PC终端的ping测试不成功，分析可能会是什么原因导致 的？并自行尝试解决。

1. 路由问题：不同网段间的通信需要路由器或三层交换机来进行路由。如果路由器没有正确配置或者不存在，那么不同网段的设备将无法相互通信。
2. 子网掩码不正确：如果PC终端的子网掩码设置错误，可能导致它们认为对方不在同一个网络中，从而无法进行直接通信。
3. 网关配置错误：每台PC需要知道用于转发到其他网络的数据包的默认网关。如果默认网关配置错误，数据包将无法正确路由。

![image-20240504172741810](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504172741810.png)



![image-20240504174335663](https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240504174335663.png)
