<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>asuka&amp;ayanami | asuka&amp;ayanami</title><meta name="author" content="charles-webber"><meta name="copyright" content="charles-webber"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#78D77D"><meta name="description" content="第五章 运输层5.1 运输层解决的问题5.1.1 进程之间的通信 主机间的通信，本质上是两台主机的应用进程之间的通信  不同协议使用同一个运输协议叫做复用，从同一协议传输信息到不同进程叫做分用    运输层提供的服务 进程到进程的数据传输 差错检测 流量控制和拥塞控制  5.1.2 运输层的两个重要协议可靠信道与不可靠信道TCP面向连接的全双工可靠信道		 UDP使用无连接的不可靠信道 协议传输数">
<meta property="og:type" content="article">
<meta property="og:title" content="asuka&amp;ayanami">
<meta property="og:url" content="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%B8%89%E6%AC%A1%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="asuka&amp;ayanami">
<meta property="og:description" content="第五章 运输层5.1 运输层解决的问题5.1.1 进程之间的通信 主机间的通信，本质上是两台主机的应用进程之间的通信  不同协议使用同一个运输协议叫做复用，从同一协议传输信息到不同进程叫做分用    运输层提供的服务 进程到进程的数据传输 差错检测 流量控制和拥塞控制  5.1.2 运输层的两个重要协议可靠信道与不可靠信道TCP面向连接的全双工可靠信道		 UDP使用无连接的不可靠信道 协议传输数">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg">
<meta property="article:published_time" content="2024-07-10T07:22:46.112Z">
<meta property="article:modified_time" content="2023-09-17T09:56:30.822Z">
<meta property="article:author" content="charles-webber">
<meta property="article:tag" content="i need something to cure me">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%B8%89%E6%AC%A1%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'asuka&ayanami',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-09-17 17:56:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#FF855DFF')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#78D77D')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css" /><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="asuka&ayanami" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">asuka&amp;ayanami</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-10T07:22:46.112Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-17T09:56:30.822Z" title="更新于 2023-09-17 17:56:30">2023-09-17</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>16分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第五章-运输层"><a href="#第五章-运输层" class="headerlink" title="第五章 运输层"></a>第五章 运输层</h1><h2 id="5-1-运输层解决的问题"><a href="#5-1-运输层解决的问题" class="headerlink" title="5.1 运输层解决的问题"></a>5.1 运输层解决的问题</h2><h3 id="5-1-1-进程之间的通信"><a href="#5-1-1-进程之间的通信" class="headerlink" title="5.1.1 进程之间的通信"></a>5.1.1 进程之间的通信</h3><ul>
<li><p>主机间的通信，本质上是两台主机的应用进程之间的通信</p>
</li>
<li><p>不同协议使用同一个运输协议叫做复用，从同一协议传输信息到不同进程叫做分用</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812152945343.png" alt="image-20230812152945343"></p>
<h3 id="运输层提供的服务"><a href="#运输层提供的服务" class="headerlink" title="运输层提供的服务"></a>运输层提供的服务</h3><ul>
<li><strong>进程到进程的数据传输</strong></li>
<li><strong>差错检测</strong></li>
<li><strong>流量控制和拥塞控制</strong></li>
</ul>
<h3 id="5-1-2-运输层的两个重要协议"><a href="#5-1-2-运输层的两个重要协议" class="headerlink" title="5.1.2 运输层的两个重要协议"></a>5.1.2 运输层的两个重要协议</h3><h4 id="可靠信道与不可靠信道"><a href="#可靠信道与不可靠信道" class="headerlink" title="可靠信道与不可靠信道"></a>可靠信道与不可靠信道</h4><p>TCP面向连接的全双工可靠信道		</p>
<p>UDP使用无连接的不可靠信道</p>
<h4 id="协议传输数据单元（TPDU）"><a href="#协议传输数据单元（TPDU）" class="headerlink" title="协议传输数据单元（TPDU）"></a>协议传输数据单元（TPDU）</h4><p>TCP—-TCP报文段</p>
<p>UDP–UDP报文段或用户数据报</p>
<h4 id="二者区别"><a href="#二者区别" class="headerlink" title="二者区别"></a>二者区别</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812153907764.png" alt="image-20230812153907764"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812153925210.png" alt="image-20230812153925210"></p>
<p>这张图很重要，他会问你哪些应用适用哪个协议 </p>
<h3 id="5-1-3-运输层的端口"><a href="#5-1-3-运输层的端口" class="headerlink" title="5.1.3 运输层的端口"></a>5.1.3 运输层的端口</h3><h4 id="复用和分用"><a href="#复用和分用" class="headerlink" title="复用和分用"></a>复用和分用</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812154208217.png" alt="image-20230812154208217"></p>
<h4 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h4><p>全称<strong>协议端口号</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812154251939.png" alt="image-20230812154251939"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812154330272.png" alt="image-20230812154330272"></p>
<p>IP是不能重复的，端口是独立的，是可以重复的</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812154428483.png" alt="image-20230812154428483"></p>
<p>管理部门：IANA</p>
<ul>
<li>通信需要知道对方的IP地址和端口（套接字socket&#x3D;（IP地址：端口号），如192.0.0.1：80）</li>
<li>UDP套接字——&lt;IP地址，端口号&gt;</li>
<li>TCP套接字——&lt;源IP地址，目的地址，源端口号，目的端口号&gt;</li>
</ul>
<h2 id="5-2-用户数据报协议UDP-（单工不连接）"><a href="#5-2-用户数据报协议UDP-（单工不连接）" class="headerlink" title="5.2 用户数据报协议UDP （单工不连接）"></a>5.2 用户数据报协议UDP （单工不连接）</h2><h3 id="5-2-1-UDP概述"><a href="#5-2-1-UDP概述" class="headerlink" title="5.2.1 UDP概述"></a>5.2.1 UDP概述</h3><p>在IP数据报上增加了复用，分用和差错检验</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol>
<li><p><strong>无连接</strong></p>
</li>
<li><p><strong>尽最大努力交付</strong></p>
</li>
<li><p><strong>面向报文（不拆分）</strong></p>
</li>
<li><p><strong>没有拥塞控制</strong></p>
</li>
<li><p><strong>支持一对一，一对多，多对一，多对多</strong></p>
</li>
<li><p><strong>首部8字节，开销小</strong></p>
</li>
</ol>
<h4 id="适用应用"><a href="#适用应用" class="headerlink" title="适用应用"></a>适用应用</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812155300614.png" alt="image-20230812155300614"></p>
<h3 id="5-2-2-UDP的首部"><a href="#5-2-2-UDP的首部" class="headerlink" title="5.2.2 UDP的首部"></a>5.2.2 UDP的首部</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812155331566.png" alt="image-20230812155331566"></p>
<p><strong><u>计算检验和的时候临时将12字节的伪首部计算，计算完成后丢弃</u></strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812160908216.png" alt="image-20230812160908216"></p>
<h2 id="5-3-传输控制协议TCP概述（全双工面向连接）"><a href="#5-3-传输控制协议TCP概述（全双工面向连接）" class="headerlink" title="5.3 传输控制协议TCP概述（全双工面向连接）"></a>5.3 传输控制协议TCP概述（全双工面向连接）</h2><h3 id="5-3-1-TCP概述"><a href="#5-3-1-TCP概述" class="headerlink" title="5.3.1 TCP概述"></a>5.3.1 TCP概述</h3><ul>
<li>面向连接</li>
<li>提供可靠传输</li>
<li>支持一对一通信</li>
<li>全双工通信</li>
<li>面向字节流，不保留报文边界</li>
</ul>
<h3 id="各种面向连接"><a href="#各种面向连接" class="headerlink" title="各种面向连接"></a>各种面向连接</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812155819063.png" alt="image-20230812155819063"></p>
<h3 id="5-3-2-TCP的首部"><a href="#5-3-2-TCP的首部" class="headerlink" title="5.3.2 TCP的首部"></a>5.3.2 TCP的首部</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812155956746.png" alt="image-20230812155956746"></p>
<p>20**<u>字节固定首部</u>**</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">源端口和目的端口：各占</span> <span class="number">2</span> <span class="string">字节。端口是运输层与应用层的服务接口。运输层的复用和分用功能通过端口实现。</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">序号：占</span> <span class="number">4</span> <span class="string">字节。TCP</span> <span class="string">连接中传送的数据流中的每一个字节都有一个序号。序号字段的值则指的是本报文段所发送的数据的第一个字节的序号。</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">确认号：占</span> <span class="number">4</span> <span class="string">字节，是期望收到对方的下一个报文段的数据的第一个字节的序号。</span></span><br><span class="line"></span><br><span class="line"><span class="string">若确认号</span> <span class="string">=</span> <span class="string">N，则表明：到序号</span> <span class="string">N</span> <span class="string">–</span> <span class="number">1</span> <span class="string">为止的所有数据都已正确收到。</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span><span class="string">.</span> <span class="string">数据偏移（即首部长度）：占</span> <span class="number">4</span> <span class="string">位，指出</span> <span class="string">TCP</span> <span class="string">报文段的数据起始处距离</span> <span class="string">TCP</span> <span class="string">报文段的起始处有多远。单位是</span> <span class="number">32</span> <span class="string">位字（以</span> <span class="number">4</span> <span class="string">字节为计算单位）</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span><span class="string">.</span> <span class="string">保留：占</span> <span class="number">6</span> <span class="string">位，保留为今后使用，但目前应置为</span> <span class="number">0</span><span class="string">。</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span><span class="string">.</span> <span class="string">紧急</span> <span class="string">URG：控制位。当</span> <span class="string">URG</span> <span class="string">=</span> <span class="number">1</span> <span class="string">时，表明紧急指针字段有效，告诉系统此报文段中有紧急数据，应尽快传送</span> <span class="string">(相当于高优先级的数据)。</span></span><br><span class="line"></span><br><span class="line"><span class="number">7</span><span class="string">.</span> <span class="string">确认</span> <span class="string">ACK：控制位。只有当</span> <span class="string">ACK</span> <span class="string">=1</span> <span class="string">时，确认号字段才有效。当</span> <span class="string">ACK</span> <span class="string">=0</span> <span class="string">时，确认号无效。</span></span><br><span class="line"></span><br><span class="line"><span class="number">8</span><span class="string">.</span> <span class="string">推送</span> <span class="string">PSH</span> <span class="string">(PuSH)</span> <span class="string">：控制位。接收</span> <span class="string">TCP</span> <span class="string">收到</span> <span class="string">PSH</span> <span class="string">=</span> <span class="number">1</span> <span class="string">的报文段后，就尽快（即“推送”向前）交付接收应用进程，而不再等到整个缓存都填满后再交付。</span></span><br><span class="line"></span><br><span class="line"><span class="number">9</span><span class="string">.</span> <span class="string">复位</span> <span class="string">RST</span> <span class="string">(ReSeT)</span> <span class="string">：控制位。当</span> <span class="string">RST=1</span> <span class="string">时，表明</span> <span class="string">TCP</span> <span class="string">连接中出现严重差错（如主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。</span></span><br><span class="line"></span><br><span class="line"><span class="number">10</span><span class="string">.</span> <span class="string">同步</span> <span class="string">SYN</span> <span class="string">(SYNchronization)</span> <span class="string">：控制位。同步</span> <span class="string">SYN</span> <span class="string">=</span> <span class="number">1</span> <span class="string">表示这是一个连接请求或连接接受报文。当</span> <span class="string">SYN</span> <span class="string">=</span> <span class="number">1</span><span class="string">，ACK</span> <span class="string">=</span> <span class="number">0</span> <span class="string">时，表明这是一个连接请求报文段。当</span> <span class="string">SYN</span> <span class="string">=</span> <span class="number">1</span><span class="string">，ACK</span> <span class="string">=</span> <span class="number">1</span> <span class="string">时，表明这是一个连接接受报文段。</span></span><br><span class="line"></span><br><span class="line"><span class="number">11</span><span class="string">.</span> <span class="string">终止</span> <span class="string">FIN</span> <span class="string">(FINish)</span> <span class="string">：控制位。用来释放一个连接。FIN=1</span> <span class="string">表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。</span></span><br><span class="line"></span><br><span class="line"><span class="number">12</span><span class="string">.</span> <span class="string">窗口：占</span> <span class="number">2</span> <span class="string">字节。窗口值告诉对方：从本报文段首部中的确认号算起，接收方目前允许对方发送的数据量（以字节为单位）。</span></span><br><span class="line"></span><br><span class="line"><span class="string">窗口字段明确指出了现在允许对方发送的数据量。窗口值经常在动态变化。</span></span><br><span class="line"></span><br><span class="line"><span class="number">13</span><span class="string">.</span> <span class="string">检验和：占</span> <span class="number">2</span> <span class="string">字节。检验和字段检验的范围包括首部和数据这两部分。在计算检验和时，要在</span> <span class="string">TCP</span> <span class="string">报文段的前面加上</span> <span class="number">12</span> <span class="string">字节的伪首部。</span></span><br><span class="line"></span><br><span class="line"><span class="number">14</span><span class="string">.</span> <span class="string">紧急指针：占</span> <span class="number">2</span> <span class="string">字节。在</span> <span class="string">URG</span> <span class="string">=</span> <span class="number">1</span><span class="string">时，指出本报文段中的紧急数据的字节数（紧急数据结束后就是普通数据），指出了紧急数据的末尾在报文段中的位置。</span></span><br><span class="line"></span><br><span class="line"><span class="number">15</span><span class="string">.</span> <span class="string">选项：长度可变，最长可达</span> <span class="number">40</span> <span class="string">字节。</span></span><br><span class="line"></span><br><span class="line"><span class="number">16</span><span class="string">.</span> <span class="string">填充：使整个</span> <span class="string">TCP</span> <span class="string">首部长度是</span> <span class="number">4</span> <span class="string">字节的整数倍。</span></span><br></pre></td></tr></table></figure>



<h3 id="发送序号和确认序号的含义"><a href="#发送序号和确认序号的含义" class="headerlink" title="发送序号和确认序号的含义"></a>发送序号和确认序号的含义</h3><p>发送序号：数据载荷中第一个字节在字节的序号</p>
<p>确认号：期望收到的下一个字节的序号 </p>
<h3 id="最大报文段MSS"><a href="#最大报文段MSS" class="headerlink" title="最大报文段MSS"></a>最大报文段MSS</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812161113341.png" alt="image-20230812161113341"></p>
<ul>
<li>太小网络利用率低</li>
<li>太大分片的开销大</li>
</ul>
<h4 id><a href="#" class="headerlink" title></a></h4><h2 id="5-4-可靠传输的工作原理"><a href="#5-4-可靠传输的工作原理" class="headerlink" title="5.4 可靠传输的工作原理"></a>5.4 可靠传输的工作原理</h2><h3 id="5-4-1-停止等待协议"><a href="#5-4-1-停止等待协议" class="headerlink" title="5.4.1 停止等待协议"></a>5.4.1 停止等待协议</h3><ul>
<li>每发送完一个分组就停止发送，等待对方的确认</li>
<li>全双工工作方式下既是发送方又是接收方</li>
</ul>
<h4 id="无差错情况"><a href="#无差错情况" class="headerlink" title="无差错情况"></a>无差错情况</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812161740264.png" alt="image-20230812161740264"></p>
<h4 id="分组错误"><a href="#分组错误" class="headerlink" title="分组错误"></a>分组错误</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812161804355.png" alt="image-20230812161804355"></p>
<p>b接收到M1时检测出错误并且丢弃</p>
<h4 id="分组丢失"><a href="#分组丢失" class="headerlink" title="分组丢失"></a>分组丢失</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812161821756.png" alt="image-20230812161821756">M1在传输过程中就丢失了，b不知道也什么都不做</p>
<p><strong><u>解决方法</u></strong>–<strong>超时重传</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812162110026.png" alt="image-20230812162110026"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812162126132.png" alt="image-20230812162126132"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812162932293.png" alt="image-20230812162932293"></p>
<p>如果确认信息也丢失了？</p>
<ul>
<li>确认丢失</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812162408674.png" alt="image-20230812162408674"></p>
<p>丢弃第二次收到的分组，向a发送确认</p>
<ul>
<li>确认迟到</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812162946549.png" alt="image-20230812162946549"></p>
<p>双方都只认第一次</p>
<p>b丢弃第二次收到的M1，并且重新发送确认信息，a丢弃第二次确认</p>
<h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>停止等待</li>
<li>暂存，为了重传</li>
<li>编号</li>
<li>超时重传</li>
</ul>
<h4 id="信道利用率"><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812163432742.png" alt="image-20230812163432742"></p>
<p><strong>解决方法</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812163451290.png" alt="image-20230812163451290"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812163519604.png" alt="image-20230812163519604"></p>
<h3 id="5-4-2-连续ARQ协议"><a href="#5-4-2-连续ARQ协议" class="headerlink" title="5.4.2 连续ARQ协议"></a>5.4.2 连续ARQ协议</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812163929140.png" alt="image-20230812163929140"></p>
<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812163959931.png" alt="image-20230812163959931"></p>
<h4 id="累计确认"><a href="#累计确认" class="headerlink" title="累计确认"></a>累计确认</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812164129206.png" alt="image-20230812164129206"></p>
<ul>
<li>优点：容易实现，确认丢失也不需要重传</li>
<li>缺点：不能向发 送方反应出接收方已经正确收到的</li>
</ul>
<h4 id="Go-back-N"><a href="#Go-back-N" class="headerlink" title="Go-back-N"></a>Go-back-N</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812172657080-1691832419155-1.png" alt="image-20230812172657080"></p>
<h4 id="与停止等待的对比"><a href="#与停止等待的对比" class="headerlink" title="与停止等待的对比"></a>与停止等待的对比</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812172743718.png" alt="image-20230812172743718"></p>
<h2 id="5-5-TCP可靠运输的实现"><a href="#5-5-TCP可靠运输的实现" class="headerlink" title="5.5 TCP可靠运输的实现"></a>5.5 TCP可靠运输的实现</h2><h3 id="5-5-1-以字节为单位的滑动窗口"><a href="#5-5-1-以字节为单位的滑动窗口" class="headerlink" title="5.5.1 以字节为单位的滑动窗口"></a>5.5.1 以字节为单位的滑动窗口</h3><ul>
<li>发送方和接收方各维持一个发送窗口和接收窗口</li>
<li>发送方根据接收方给出的窗口值构建出自己的发送窗口</li>
<li>发送窗口里面的序号表示允许发送的序号</li>
<li>窗口只能往序号大的方向移动和扩张</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812173419545-1691832859974-3.png" alt="image-20230812173419545"></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812173740468.png" alt="image-20230812173740468"></strong></p>
<h4 id="窗口的滑动"><a href="#窗口的滑动" class="headerlink" title="窗口的滑动"></a>窗口的滑动</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812173845689.png" alt="image-20230812173845689"></p>
<p>确认号是还没有收到的数据，是期望接收到的数据的序号</p>
<p>发送方每收到一个接受确认，就将发送窗口向前滑动一个字节的位置  </p>
<h4 id="发送缓存"><a href="#发送缓存" class="headerlink" title="发送缓存"></a>发送缓存</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812175414815.png" alt="image-20230812175414815"></p>
<h4 id="接收缓存"><a href="#接收缓存" class="headerlink" title="接收缓存"></a>接收缓存</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812175613916.png" alt="image-20230812175613916"></p>
<h3 id="5-5-2-超时重传时间的选择"><a href="#5-5-2-超时重传时间的选择" class="headerlink" title="5.5.2 超时重传时间的选择"></a>5.5.2 超时重传时间的选择</h3><h4 id="加权平均往返时间RTTs"><a href="#加权平均往返时间RTTs" class="headerlink" title="加权平均往返时间RTTs"></a>加权平均往返时间RTTs</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812175755674.png" alt="image-20230812175755674"></p>
<h4 id="超时重传时间RTO"><a href="#超时重传时间RTO" class="headerlink" title="超时重传时间RTO"></a>超时重传时间RTO</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812175920696.png" alt="image-20230812175920696"></p>
<h4 id="RTT偏差的加权平均值"><a href="#RTT偏差的加权平均值" class="headerlink" title="RTT偏差的加权平均值"></a>RTT偏差的加权平均值</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180008096.png" alt="image-20230812180008096"></p>
<h4 id="Karn算法"><a href="#Karn算法" class="headerlink" title="Karn算法"></a>Karn算法</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180115248.png" alt="image-20230812180115248"></p>
<h5 id="修正版"><a href="#修正版" class="headerlink" title="修正版"></a>修正版</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180141017.png" alt="image-20230812180141017"></p>
<h3 id="5-5-3-选择确认SACK"><a href="#5-5-3-选择确认SACK" class="headerlink" title="5.5.3 选择确认SACK"></a>5.5.3 选择确认SACK</h3><p>一段数据中中间部分数据未传输，怎么只传输这些数据呢？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180317612.png" alt="image-20230812180317612"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180327548.png" alt="image-20230812180327548"></p>
<h2 id="5-6-TCP的流量控制"><a href="#5-6-TCP的流量控制" class="headerlink" title="5.6 TCP的流量控制"></a>5.6 TCP的流量控制</h2><h3 id="5-6-1-利用滑动窗口实现流量控制"><a href="#5-6-1-利用滑动窗口实现流量控制" class="headerlink" title="5.6.1 利用滑动窗口实现流量控制"></a>5.6.1 利用滑动窗口实现流量控制</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812180818607.png" alt="image-20230812180818607"></p>
<p>按接收方的接受能力来决定发送方的发送能力</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640.png" alt="图片"></p>
<h4 id="持续计时器"><a href="#持续计时器" class="headerlink" title="持续计时器"></a>持续计时器</h4><p>只要 TCP 连接的一方收到对方的零窗口通知，就启动该持续计时器。</p>
<p>若持续计时器设置的时间到期，就发送一个零窗口探测报文段（仅携带 1 字节的数据），对方在确认这个探测报文段时给出当前窗口值。</p>
<p>若窗口仍然是零，收到这个报文段的一方就重新设置持续计时器。</p>
<p>若窗口不是零，则死锁的僵局就可以打破了。</p>
<h3 id="5-6-2-TCP的传输效率"><a href="#5-6-2-TCP的传输效率" class="headerlink" title="5.6.2 TCP的传输效率"></a>5.6.2 TCP的传输效率</h3><ul>
<li>缓存中数据到达MSS长度就组装成一个TCP报文段发送出去</li>
<li>按发送方的应用进程要求发送</li>
<li>发送方的计时器时间到了将当前的缓存数据发送出去</li>
</ul>
<h4 id="糊涂窗口综合征"><a href="#糊涂窗口综合征" class="headerlink" title="糊涂窗口综合征"></a>糊涂窗口综合征</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812183202333.png" alt="image-20230812183202333"></p>
<h2 id="5-7-TCP的拥塞控制"><a href="#5-7-TCP的拥塞控制" class="headerlink" title="5.7 TCP的拥塞控制"></a>5.7 TCP的拥塞控制</h2><h3 id="5-7-1-拥塞控制的一般原理"><a href="#5-7-1-拥塞控制的一般原理" class="headerlink" title="5.7.1 拥塞控制的一般原理"></a>5.7.1 拥塞控制的一般原理</h3><p>拥塞原因：大量分组短时间进入网络，超过网络的处理能力</p>
<ol>
<li>节点缓存容量太小</li>
<li>链路容量不足</li>
<li>处理机处理速率太慢</li>
<li>拥塞本身会进一步加剧拥塞</li>
<li><strong>资源要求大于供给</strong></li>
</ol>
<h4 id="理论解决方法"><a href="#理论解决方法" class="headerlink" title="理论解决方法"></a>理论解决方法</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812183924857.png" alt="image-20230812183924857"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812183948388-1691836788840-7.png" alt="image-20230812183948388"></p>
<h3 id="5-7-2-TCP的拥塞控制方法"><a href="#5-7-2-TCP的拥塞控制方法" class="headerlink" title="5.7.2 TCP的拥塞控制方法"></a>5.7.2 TCP的拥塞控制方法</h3><p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812184138229.png" alt="image-20230812184138229"></strong></p>
<p>出现拥塞将窗口减少，没有拥塞加大窗口</p>
<p><strong>拥塞发生依据</strong></p>
<p>超时重传计时器超时</p>
<p>收到三个重复的确认</p>
<h4 id="4种拥塞控制算法"><a href="#4种拥塞控制算法" class="headerlink" title="4种拥塞控制算法"></a>4种拥塞控制算法</h4><ol>
<li><p><strong>慢开始</strong></p>
</li>
<li><p><strong>拥塞避免</strong></p>
</li>
<li><p><strong>快重传</strong></p>
</li>
<li><p><strong>快恢复</strong></p>
</li>
</ol>
<p>ssthresh是标准，是阈值，cwnd是变量</p>
<h5 id="慢开始"><a href="#慢开始" class="headerlink" title="慢开始"></a>慢开始</h5><ul>
<li><p>慢开始就是指数增长（2的n次方）</p>
</li>
<li><p>cwnd和门限值的关系：</p>
<p>（1）当 cwnd &lt; ssthresh 时，使用慢开始算法。（指数）</p>
<p>（2）当 cwnd &gt; ssthresh 时，停止使用慢开始算法，改用拥塞避免算法。（线性）</p>
<p>（3）当 cwnd &#x3D; ssthresh 时，既可使用慢开始算法，也可使用拥塞避免算法。（线性）</p>
</li>
</ul>
<h5 id="拥塞避免"><a href="#拥塞避免" class="headerlink" title="拥塞避免"></a>拥塞避免</h5><p>这时候cwnd线性增加</p>
<p><strong>无论在慢开始阶段还是在拥塞避免阶段，只要发送方判断网络出现拥塞（重传定时器超时）：</strong></p>
<p><strong>（1）ssthresh &#x3D; max (cwnd&#x2F;2，2)</strong></p>
<p>**（2）cwnd &#x3D;1</p>
<p>*不能完全避免拥塞，只能减轻</p>
<h5 id="快重传"><a href="#快重传" class="headerlink" title="快重传"></a>快重传</h5><p>1.目的：让发送方尽早知道发生了个别报文段的丢失。</p>
<p>2.发送方只要连续收到三个重复的确认，就立即进行重传（即“快重传”），这样就不会出现超时。</p>
<p>3.使用快重传可以使整个网络的吞吐量提高约 20%。</p>
<p>4.快重传算法要求接收方立即发送确认，即使收到了失序的报文段，也要立即发出对已收到的报文段的重复确认。</p>
<h5 id="收到三个确认后会立即进行快恢复！！！（和拥塞避免有一点点差别）"><a href="#收到三个确认后会立即进行快恢复！！！（和拥塞避免有一点点差别）" class="headerlink" title="收到三个确认后会立即进行快恢复！！！（和拥塞避免有一点点差别）"></a><strong>收到三个确认后会立即进行快恢复</strong>！！！（和拥塞避免有一点点差别）</h5><p>1.慢开始门限 ssthresh &#x3D; 当前拥塞窗口 cwnd &#x2F; 2 ；</p>
<p>2.乘法减小 MD (Multiplicative Decrease) 拥塞窗口。（？）</p>
<p> <strong>新拥塞窗口 cwnd &#x3D; 慢开始门限 ssthresh</strong> </p>
<p>3.执行拥塞避免算法，使拥塞窗口缓慢地线性增大（加法增大 AI）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691842192980-9.png" alt="图片"></p>
<h2 id="-1"><a href="#-1" class="headerlink" title></a><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640.png" alt="图片"></h2><h2 id="5-8-TCP的运输连接管理"><a href="#5-8-TCP的运输连接管理" class="headerlink" title="5.8 TCP的运输连接管理"></a>5.8 TCP的运输连接管理</h2><h3 id="5-8-1-TCP的连接建立"><a href="#5-8-1-TCP的连接建立" class="headerlink" title="5.8.1 TCP的连接建立"></a>5.8.1 TCP的连接建立</h3><p><strong>采用三报文握手：</strong>在客户和服务器之间交换三个 TCP 报文段，以防止已失效的连接请求报文段突然又传送到了服务器，因而产生TCP连接建立错误。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691842456653-12.png" alt="图片"></p>
<h3 id="5-8-2-TCP的连接释放"><a href="#5-8-2-TCP的连接释放" class="headerlink" title="5.8.2 TCP的连接释放"></a>5.8.2 TCP的连接释放</h3><p>数据传输结束后，通信的双方都可释放连接。</p>
<p>TCP 连接释放过程是<strong>四报文挥手</strong>。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691842471842-15.png" alt="图片">等待2MSL的时间的原因：</p>
<ol>
<li>保证发送的最后一个ACK报文段能够到达B</li>
<li>防止以失效的请求报文段出现在连接中（？）</li>
</ol>
<p><strong>保活计时器：</strong>防止在TCP连接中出现长时间空闲</p>
<h1 id="第六章-应用层"><a href="#第六章-应用层" class="headerlink" title="第六章 应用层"></a>第六章 应用层</h1><h2 id="6-1-域名系统DNS"><a href="#6-1-域名系统DNS" class="headerlink" title="6.1 域名系统DNS"></a>6.1 域名系统DNS</h2><h3 id="6-1-1域名系统概述"><a href="#6-1-1域名系统概述" class="headerlink" title="6.1.1域名系统概述"></a>6.1.1域名系统概述</h3><ol>
<li><p>域名系统 DNS用来把人们使用的机器名字（域名）转换为 IP 地址。</p>
</li>
<li><p>域名采用层次树状结构的命名方法</p>
</li>
<li><p>DNS 是一个联机分布式数据库系统，采用客户服务器方式。</p>
</li>
<li><p>域名到 IP 地址的解析是由若干个域名服务器程序共同完成。</p>
</li>
<li><p>域名服务器程序在专设的结点上运行，运行该程序的机器称为域名服务器</p>
</li>
</ol>
<h3 id="6-1-2-互联网的域名系统"><a href="#6-1-2-互联网的域名系统" class="headerlink" title="6.1.2 互联网的域名系统"></a>6.1.2 互联网的域名系统</h3><ol>
<li><p>命名方法：层次树状结构方法。</p>
</li>
<li><p>任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名</p>
</li>
<li><p><strong>域 (domain)：</strong></p>
</li>
</ol>
<p>（1）名字空间中一个可被管理的划分。</p>
<p>（2）可以划分为子域，而子域还可继续划分为子域的子域，这样就形成了<strong>顶级域、二级域、三级域</strong>，等等。</p>
<ol start="4">
<li><strong>域名结构：</strong>层次结构。由标号序列组成，各标号之间用点（.）隔开，各标号分别代表不同级别的域名</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691844012684-18.png" alt="图片"></p>
<h3 id="6-1-3-域名服务器"><a href="#6-1-3-域名服务器" class="headerlink" title="6.1.3 域名服务器"></a>6.1.3 域名服务器</h3><h4 id="区的不同划分"><a href="#区的不同划分" class="headerlink" title="区的不同划分"></a>区的不同划分</h4><p>区等于域，区小于域</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204224682.png" alt="image-20230812204224682"></p>
<h4 id="树状结构的域名服务器"><a href="#树状结构的域名服务器" class="headerlink" title="树状结构的域名服务器"></a>树状结构的域名服务器</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204259630.png" alt="image-20230812204259630"></p>
<h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204320673.png" alt="image-20230812204320673"></p>
<h4 id="域名的解析过程"><a href="#域名的解析过程" class="headerlink" title="域名的解析过程"></a>域名的解析过程</h4><p>靠自己&#x2F;靠别人</p>
<h5 id="递归查询（靠别人）"><a href="#递归查询（靠别人）" class="headerlink" title="递归查询（靠别人）"></a>递归查询（靠别人）</h5><p>通常，主机向本地域名服务器查询时使用，若不知道，就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691844285446-21.png" alt="图片"></p>
<h5 id="迭代查询（靠自己）"><a href="#迭代查询（靠自己）" class="headerlink" title="迭代查询（靠自己）"></a>迭代查询（靠自己）</h5><p>本地域名服务器向根域名服务器查询时使用，要么给出所要查询的 IP 地址，要么告诉下一个要查询的域名服务器的 IP 地址，本地域名服务器继续后续查询</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691844309746-24.png" alt="图片"></p>
<h4 id="高速缓存域名服务器"><a href="#高速缓存域名服务器" class="headerlink" title="高速缓存域名服务器"></a>高速缓存域名服务器</h4><p>存放最近用过的名字以及从何处获得名字映射信息的记录。</p>
<p>作用：大大减轻根域名服务器的负荷，使 DNS 查询请求和回答报文的数量大为减少。</p>
<h2 id="6-2-文件传送协议FTP"><a href="#6-2-文件传送协议FTP" class="headerlink" title="6.2 文件传送协议FTP"></a>6.2 文件传送协议FTP</h2><p><strong>使用了TCP</strong></p>
<h3 id="6-2-1-FTP概述"><a href="#6-2-1-FTP概述" class="headerlink" title="6.2.1 FTP概述"></a>6.2.1 FTP概述</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204746175.png" alt="image-20230812204746175"></p>
<h4 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204817385.png" alt="image-20230812204817385"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812204827665.png" alt="image-20230812204827665"></p>
<h4 id="主进程工作步骤"><a href="#主进程工作步骤" class="headerlink" title="主进程工作步骤"></a>主进程工作步骤</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812205039858.png" alt="image-20230812205039858"></p>
<h4 id="6-2-3-简单文件传送协议TFTP"><a href="#6-2-3-简单文件传送协议TFTP" class="headerlink" title="6.2.3 简单文件传送协议TFTP"></a>6.2.3 简单文件传送协议TFTP</h4><p><strong>概述</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812205255268.png" alt="image-20230812205255268"><strong>特点</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812205324981.png" alt="image-20230812205324981"></p>
<h2 id="6-3-远程终端协议TELNET"><a href="#6-3-远程终端协议TELNET" class="headerlink" title="6.3 远程终端协议TELNET"></a>6.3 远程终端协议TELNET</h2><p>使用TCP</p>
<p><strong>概述</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812205408164.png" alt="image-20230812205408164"></strong></p>
<p><strong>TELNET使用网络虚拟终端NVT格式</strong></p>
<h2 id="6-4-万维网www"><a href="#6-4-万维网www" class="headerlink" title="6.4 万维网www"></a>6.4 万维网www</h2><h3 id="6-4-1-万维网概述"><a href="#6-4-1-万维网概述" class="headerlink" title="6.4.1 万维网概述"></a>6.4.1 万维网概述</h3><ol>
<li><p>万维网 WWW (World Wide Web) 是一个大规模的、联机式的信息储藏所，并非某种特殊的计算机网络</p>
</li>
<li><p>访问方法：链接</p>
</li>
<li><p>提供分布式服务</p>
</li>
<li><p>万维网的工作方式：客户服务器方式</p>
</li>
</ol>
<h3 id="6-4-2-统一资源定位符URL"><a href="#6-4-2-统一资源定位符URL" class="headerlink" title="6.4.2 统一资源定位符URL"></a>6.4.2 统一资源定位符URL</h3><p><strong>URL 的格式：</strong>由以冒号（:）隔开的两大部分组成，对字符大写或小写没有要求</p>
<p>一般形式：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691845110901-27.png" alt="图片"></p>
<h3 id="6-4-3-超文本传送协议http"><a href="#6-4-3-超文本传送协议http" class="headerlink" title="6.4.3 超文本传送协议http"></a>6.4.3 超文本传送协议http</h3><p>HTTP 使用了面向连接的 TCP 作为运输层协议，保证了数据的可靠传输。</p>
<p>HTTP 协议本身是无连接的。</p>
<p><strong>代理服务器（万维网高速缓存）：</strong></p>
<p>它代表浏览器发出 HTTP 请求，使用高速缓存可减少访问互联网服务器的时延。</p>
<p><strong>类似于高速缓存域名服务器</strong></p>
<h3 id="6-4-4-万维网的文档"><a href="#6-4-4-万维网的文档" class="headerlink" title="6.4.4 万维网的文档"></a>6.4.4 万维网的文档</h3><p>在一个客户程序主窗口上显示出的万维网文档称为页面 (page)。</p>
<p>页面制作的标准语言：HTML。</p>
<p><strong>注：HTML 不是应用层的协议，它只是万维网浏览器使用的一种语言。</strong></p>
<p><strong>想起了配置博客的痛苦时光</strong></p>
<h3 id="6-4-5-万维网的信息检索系统"><a href="#6-4-5-万维网的信息检索系统" class="headerlink" title="6.4.5 万维网的信息检索系统"></a>6.4.5 万维网的信息检索系统</h3><p>在万维网中用来进行搜索的程序叫做搜索引擎，分为全文检索搜索和分类目录搜索。</p>
<h3 id="6-4-6-博客和微博"><a href="#6-4-6-博客和微博" class="headerlink" title="6.4.6 博客和微博"></a>6.4.6 博客和微博</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812210104614.png" alt="image-20230812210104614"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812210133543.png" alt="image-20230812210133543"></p>
<h3 id="6-4-7-社交网络"><a href="#6-4-7-社交网络" class="headerlink" title="6.4.7 社交网络"></a>6.4.7 社交网络</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812210147387.png" alt="image-20230812210147387"></p>
<p>栗子：osu</p>
<h2 id="6-5-电子邮件"><a href="#6-5-电子邮件" class="headerlink" title="6.5 电子邮件"></a>6.5 电子邮件</h2><p>电子邮件 (e-mail)：指使用电子设备交换的邮件及其方法。</p>
<p><strong>优点：</strong>使用方便，传递迅速，费用低廉，可以传送多种类型的信息（包括：文字信息，声音和图像等）</p>
<p><strong>电子邮件系统的组成：</strong></p>
<ol>
<li><p>用户代理（用户与电子邮件系统的接口，又被称为电子邮件客户端软件）</p>
</li>
<li><p>邮件服务器（发送和接收邮件，同时还要向发信人报告邮件传送的情况，又被称为邮件传输代理，按照客户服务器方式工作）</p>
</li>
<li><p>邮件发送和读取协议（简单邮件发送协议 SMTP：用于在用户代理向邮件服务器或邮件服务器之间发送邮件。邮局协议 POP3：用于用户代理从邮件服务器读取邮件）</p>
</li>
</ol>
<p><strong>发送和接收电子邮件的步骤：</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691845352215-30.png" alt="图片"></p>
<h2 id="6-6-动态主机配置协议DHCP"><a href="#6-6-动态主机配置协议DHCP" class="headerlink" title="6.6 动态主机配置协议DHCP"></a>6.6 动态主机配置协议DHCP</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol>
<li><p>动态主机配置协议 DHCP提供了即插即用连网的机制，允许一台计算机加入网络和获取 IP 地址，而不用手工配置。</p>
</li>
<li><p>DHCP 使用客户服务器方式，采用请求&#x2F;应答方式工作</p>
</li>
<li><p>DHCP 基于 UDP 工作，DHCP 服务器运行在 67 号端口， DHCP客户运行在 68 号端口。</p>
</li>
</ol>
<h3 id="DHCP中继代理"><a href="#DHCP中继代理" class="headerlink" title="DHCP中继代理"></a>DHCP中继代理</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691845812347-33.png" alt="图片"></p>
<p>DHCP 中继代理收到主机广播发送的发现报文后，就以单播方式向 DHCP 服务器转发此报文，并等待其回答，收到 DHCP 服务器回答的提供报文后，DHCP 中继代理再将其发回给主机。</p>
<ul>
<li>每个网络上不都需要DHCP服务器</li>
<li>每一个网络至少有一个DHCP中继代理，它配置了DHCP服务器的IP地址信息</li>
</ul>
<h3 id="DHCP协议的工作过程"><a href="#DHCP协议的工作过程" class="headerlink" title="DHCP协议的工作过程"></a>DHCP协议的工作过程</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//640-1691845964843-36.png" alt="图片"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1. DHCP 服务器被动打开 UDP 端口 67，等待客户端发来的报文。</span><br><span class="line"></span><br><span class="line">2. DHCP 客户从 UDP 端口 68 发送 DHCP 发现报文 DHCPDISCOVER。</span><br><span class="line"></span><br><span class="line">3. 凡收到 DHCP 发现报文的 DHCP 服务器都发出 DHCP 提供报文 DHCPOFFER，因此 DHCP 客户可能收到多个 DHCP 提供报文 。</span><br><span class="line"></span><br><span class="line">4. DHCP 客户从几个 DHCP 服务器中选择其中的一个，并向所选择的 DHCP 服务器发送 DHCP 请求报文 DHCPREQUEST。</span><br><span class="line"></span><br><span class="line">5. 被选择的 DHCP 服务器发送确认报文 DHCPACK，DHCP 客户可开始使用得到的临时 IP 地址了，进入已绑定状态。DHCP 客户现在要根据服务器提供的租用期 T 设置两个计时器 T1 和 T2，它们的超时时间分别是 0.5T 和 0.875T。当超时时间到时，就要请求更新租用期。</span><br><span class="line"></span><br><span class="line">6. 租用期过了一半（T1 时间到），DHCP 发送请求报文 DHCPREQUEST，要求更新租用期。</span><br><span class="line"></span><br><span class="line">7. DHCP 服务器若同意，则发回确认报文 DHCPACK。DHCP 客户得到了新的租用期，重新设置计时器。</span><br><span class="line"></span><br><span class="line">8. DHCP 服务器若不同意，则发回否认报 DHCPNACK。这时 DHCP 客户必须立即停止使用原来的 IP 地址，而必须重新申请 IP 地址（回到步骤2）。若 DHCP 服务器不响应步骤6的请求报文 DHCPREQUEST，则在租用期过了 87.5% 时 (T2 时间到)，DHCP 客户必须重新发送请求报文 DHCPREQUEST（重复步骤6），然后又继续后面的步骤。</span><br><span class="line"></span><br><span class="line">9. DHCP 客户可随时提前终止服务器所提供的租用期，这时只需向 DHCP 服务器发送释放报文 DHCPRELEASE 即可。</span><br></pre></td></tr></table></figure>



<h2 id="6-7-简单网络管理协议SNMP"><a href="#6-7-简单网络管理协议SNMP" class="headerlink" title="6.7 简单网络管理协议SNMP"></a>6.7 简单网络管理协议SNMP</h2><h3 id="6-7-1-网络管理的基本概念"><a href="#6-7-1-网络管理的基本概念" class="headerlink" title="6.7.1 网络管理的基本概念"></a>6.7.1 网络管理的基本概念</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212126877.png" alt="image-20230812212126877"></p>
<h4 id="被管对象"><a href="#被管对象" class="headerlink" title="被管对象"></a>被管对象</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212213600.png" alt="image-20230812212213600"></p>
<h4 id="网络管理协议"><a href="#网络管理协议" class="headerlink" title="网络管理协议"></a>网络管理协议</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212251871.png" alt="image-20230812212251871"></p>
<h3 id="6-7-2-管理信息结构SMI"><a href="#6-7-2-管理信息结构SMI" class="headerlink" title="6.7.2 管理信息结构SMI"></a>6.7.2 管理信息结构SMI</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212323067.png" alt="image-20230812212323067"></p>
<p><strong>功能</strong></p>
<ol>
<li>被管对象命名</li>
<li>储存被管对象的数据类型有哪些</li>
<li>管理数据怎么编码</li>
</ol>
<h3 id="6-7-3-管理信息库MIB（略）"><a href="#6-7-3-管理信息库MIB（略）" class="headerlink" title="6.7.3 管理信息库MIB（略）"></a>6.7.3 管理信息库MIB（略）</h3><h3 id="6-7-4-SNMP的协议数据单元和报文"><a href="#6-7-4-SNMP的协议数据单元和报文" class="headerlink" title="6.7.4 SNMP的协议数据单元和报文"></a>6.7.4 SNMP的协议数据单元和报文</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212513276.png" alt="image-20230812212513276"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212616304.png" alt="image-20230812212616304"></p>
<h4 id="陷阱"><a href="#陷阱" class="headerlink" title="陷阱"></a>陷阱</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212646703.png" alt="image-20230812212646703"></p>
<h4 id="报文格式"><a href="#报文格式" class="headerlink" title="报文格式"></a>报文格式</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212724355.png" alt="image-20230812212724355"></p>
<h2 id="6-8-应用进程跨越网络的通信"><a href="#6-8-应用进程跨越网络的通信" class="headerlink" title="6.8 应用进程跨越网络的通信"></a>6.8 应用进程跨越网络的通信</h2><h3 id="6-8-1-系统调用和应用编程接口"><a href="#6-8-1-系统调用和应用编程接口" class="headerlink" title="6.8.1 系统调用和应用编程接口"></a>6.8.1 系统调用和应用编程接口</h3><h4 id="系统调用"><a href="#系统调用" class="headerlink" title="系统调用"></a>系统调用</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812213014751.png" alt="image-20230812213014751"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812213004210.png" alt="image-20230812213004210"></p>
<h4 id="应用编程接口"><a href="#应用编程接口" class="headerlink" title="应用编程接口"></a>应用编程接口</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212915430.png" alt="image-20230812212915430"></p>
<h5 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812212933833.png" alt="image-20230812212933833"></p>
<p><strong>应用进程通过套接字接入到网络</strong></p>
<h4 id="套接字作用"><a href="#套接字作用" class="headerlink" title="套接字作用"></a>套接字作用</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812213156041.png" alt="image-20230812213156041"></p>
<h2 id="6-9-P2P应用"><a href="#6-9-P2P应用" class="headerlink" title="6.9 P2P应用"></a>6.9 P2P应用</h2><h3 id="6-9-1-具有集中目录服务器的P2P工作方式（Napster）"><a href="#6-9-1-具有集中目录服务器的P2P工作方式（Napster）" class="headerlink" title="6.9.1 具有集中目录服务器的P2P工作方式（Napster）"></a>6.9.1 具有集中目录服务器的P2P工作方式（Napster）</h3><p>最早的P2P技术</p>
<h3 id="6-9-2-具有全分布方式结构的P2P文件共享程序（eMule）"><a href="#6-9-2-具有全分布方式结构的P2P文件共享程序（eMule）" class="headerlink" title="6.9.2 具有全分布方式结构的P2P文件共享程序（eMule）"></a>6.9.2 具有全分布方式结构的P2P文件共享程序（eMule）</h3><p>使用分散定位和分散传输技术</p>
<h3 id="6-9-3-P2P文件分发的分析（略）"><a href="#6-9-3-P2P文件分发的分析（略）" class="headerlink" title="6.9.3 P2P文件分发的分析（略）"></a>6.9.3 P2P文件分发的分析（略）</h3><h1 id="第三次作业改正"><a href="#第三次作业改正" class="headerlink" title="第三次作业改正"></a>第三次作业改正</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812215039154.png" alt="image-20230812215039154"></p>
<p>第一个报文丢失，b要求a重发这个报文段，而确认号就是b想要的报文段的序号</p>
<p>所以是100</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812215153679.png" alt="image-20230812215153679"></p>
<p>第一次1</p>
<p>第二次2</p>
<p>3–4</p>
<p>4–8</p>
<p>5–9</p>
<p>6–10</p>
<p>7–1（门限值变成4）</p>
<p>8–2</p>
<p>9–4</p>
<p>10–5</p>
<p>11–6</p>
<p>大小为6</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812215358639.png" alt="image-20230812215358639"></p>
<p>贝多芬题</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230812215432062.png" alt="image-20230812215432062"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io">charles-webber</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%B8%89%E6%AC%A1%E7%AC%94%E8%AE%B0/">http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%B8%89%E6%AC%A1%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://charles-webebr.github.io" target="_blank">asuka&ayanami</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/10/2023017-%E5%BC%A0%E5%81%A5-%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NzUzOS8zNDAwMw=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">charles-webber</div><div class="author-info__description">never give up,keep moving</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/charles-webber"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://bilibili.com/" target="_blank" title="bilibili"><i class="fa-regular fa-heart"></i></a><a class="social-icon" href="mailto:1484145649@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://leetcode.cn/" target="_blank" title="gaming()"><i class="fa-solid fa-gamepad"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Dear Miss.? When i think of you'I'm reminded of the beautiful plains of Iowa.The distance between us is breaking my spirit. My time and experiences without you are meaningless to me. Falling in love with you was the easiest thing i have ever done.Nothing matters but you.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">1.</span> <span class="toc-text">第五章 运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E8%BF%90%E8%BE%93%E5%B1%82%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.</span> <span class="toc-text">5.1 运输层解决的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-%E8%BF%9B%E7%A8%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">1.1.1.</span> <span class="toc-text">5.1.1 进程之间的通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.2.</span> <span class="toc-text">运输层提供的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-%E8%BF%90%E8%BE%93%E5%B1%82%E7%9A%84%E4%B8%A4%E4%B8%AA%E9%87%8D%E8%A6%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.1.3.</span> <span class="toc-text">5.1.2 运输层的两个重要协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BF%A1%E9%81%93%E4%B8%8E%E4%B8%8D%E5%8F%AF%E9%9D%A0%E4%BF%A1%E9%81%93"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">可靠信道与不可靠信道</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83%EF%BC%88TPDU%EF%BC%89"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">协议传输数据单元（TPDU）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E8%80%85%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">二者区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-3-%E8%BF%90%E8%BE%93%E5%B1%82%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.1.4.</span> <span class="toc-text">5.1.3 运输层的端口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E7%94%A8%E5%92%8C%E5%88%86%E7%94%A8"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">复用和分用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">端口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AEUDP-%EF%BC%88%E5%8D%95%E5%B7%A5%E4%B8%8D%E8%BF%9E%E6%8E%A5%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">5.2 用户数据报协议UDP （单工不连接）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-UDP%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">5.2.1 UDP概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%BA%94%E7%94%A8"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">适用应用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-UDP%E7%9A%84%E9%A6%96%E9%83%A8"><span class="toc-number">1.2.2.</span> <span class="toc-text">5.2.2 UDP的首部</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AETCP%E6%A6%82%E8%BF%B0%EF%BC%88%E5%85%A8%E5%8F%8C%E5%B7%A5%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">5.3 传输控制协议TCP概述（全双工面向连接）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-TCP%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">5.3.1 TCP概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%84%E7%A7%8D%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.2.</span> <span class="toc-text">各种面向连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-TCP%E7%9A%84%E9%A6%96%E9%83%A8"><span class="toc-number">1.3.3.</span> <span class="toc-text">5.3.2 TCP的首部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%BA%8F%E5%8F%B7%E5%92%8C%E7%A1%AE%E8%AE%A4%E5%BA%8F%E5%8F%B7%E7%9A%84%E5%90%AB%E4%B9%89"><span class="toc-number">1.3.4.</span> <span class="toc-text">发送序号和确认序号的含义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E6%8A%A5%E6%96%87%E6%AE%B5MSS"><span class="toc-number">1.3.5.</span> <span class="toc-text">最大报文段MSS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">1.3.5.1.</span> <span class="toc-text"></span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">5.4 可靠传输的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-1-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.1.</span> <span class="toc-text">5.4.1 停止等待协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%B7%AE%E9%94%99%E6%83%85%E5%86%B5"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">无差错情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E9%94%99%E8%AF%AF"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">分组错误</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%B8%A2%E5%A4%B1"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">分组丢失</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">信道利用率</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-2-%E8%BF%9E%E7%BB%ADARQ%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.2.</span> <span class="toc-text">5.4.2 连续ARQ协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%AF%E8%AE%A1%E7%A1%AE%E8%AE%A4"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">累计确认</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Go-back-N"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">Go-back-N</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">与停止等待的对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-TCP%E5%8F%AF%E9%9D%A0%E8%BF%90%E8%BE%93%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.</span> <span class="toc-text">5.5 TCP可靠运输的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-%E4%BB%A5%E5%AD%97%E8%8A%82%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.5.1 以字节为单位的滑动窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3%E7%9A%84%E6%BB%91%E5%8A%A8"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">窗口的滑动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E7%BC%93%E5%AD%98"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">发送缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E7%BC%93%E5%AD%98"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">接收缓存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%97%B6%E9%97%B4%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.5.2 超时重传时间的选择</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E6%9D%83%E5%B9%B3%E5%9D%87%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4RTTs"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">加权平均往返时间RTTs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%97%B6%E9%97%B4RTO"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">超时重传时间RTO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RTT%E5%81%8F%E5%B7%AE%E7%9A%84%E5%8A%A0%E6%9D%83%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">RTT偏差的加权平均值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Karn%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.2.4.</span> <span class="toc-text">Karn算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%AD%A3%E7%89%88"><span class="toc-number">1.5.2.4.1.</span> <span class="toc-text">修正版</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-3-%E9%80%89%E6%8B%A9%E7%A1%AE%E8%AE%A4SACK"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.5.3 选择确认SACK</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-TCP%E7%9A%84%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">5.6 TCP的流量控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-1-%E5%88%A9%E7%94%A8%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%AE%9E%E7%8E%B0%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.6.1 利用滑动窗口实现流量控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%81%E7%BB%AD%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">持续计时器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-TCP%E7%9A%84%E4%BC%A0%E8%BE%93%E6%95%88%E7%8E%87"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.6.2 TCP的传输效率</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%8A%E6%B6%82%E7%AA%97%E5%8F%A3%E7%BB%BC%E5%90%88%E5%BE%81"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">糊涂窗口综合征</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-TCP%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">1.7.</span> <span class="toc-text">5.7 TCP的拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-1-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%9A%84%E4%B8%80%E8%88%AC%E5%8E%9F%E7%90%86"><span class="toc-number">1.7.1.</span> <span class="toc-text">5.7.1 拥塞控制的一般原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%90%86%E8%AE%BA%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">理论解决方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-2-TCP%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">5.7.2 TCP的拥塞控制方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E7%A7%8D%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">4种拥塞控制算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%85%A2%E5%BC%80%E5%A7%8B"><span class="toc-number">1.7.2.1.1.</span> <span class="toc-text">慢开始</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D"><span class="toc-number">1.7.2.1.2.</span> <span class="toc-text">拥塞避免</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BF%AB%E9%87%8D%E4%BC%A0"><span class="toc-number">1.7.2.1.3.</span> <span class="toc-text">快重传</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%94%B6%E5%88%B0%E4%B8%89%E4%B8%AA%E7%A1%AE%E8%AE%A4%E5%90%8E%E4%BC%9A%E7%AB%8B%E5%8D%B3%E8%BF%9B%E8%A1%8C%E5%BF%AB%E6%81%A2%E5%A4%8D%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%88%E5%92%8C%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D%E6%9C%89%E4%B8%80%E7%82%B9%E7%82%B9%E5%B7%AE%E5%88%AB%EF%BC%89"><span class="toc-number">1.7.2.1.4.</span> <span class="toc-text">收到三个确认后会立即进行快恢复！！！（和拥塞避免有一点点差别）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-1"><span class="toc-number">1.8.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-TCP%E7%9A%84%E8%BF%90%E8%BE%93%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">5.8 TCP的运输连接管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8-1-TCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.9.1.</span> <span class="toc-text">5.8.1 TCP的连接建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8-2-TCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E9%87%8A%E6%94%BE"><span class="toc-number">1.9.2.</span> <span class="toc-text">5.8.2 TCP的连接释放</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">第六章 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9FDNS"><span class="toc-number">2.1.</span> <span class="toc-text">6.1 域名系统DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.1.</span> <span class="toc-text">6.1.1域名系统概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-2-%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.1.2.</span> <span class="toc-text">6.1.2 互联网的域名系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-3-%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">2.1.3.</span> <span class="toc-text">6.1.3 域名服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E7%9A%84%E4%B8%8D%E5%90%8C%E5%88%92%E5%88%86"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">区的不同划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%8A%B6%E7%BB%93%E6%9E%84%E7%9A%84%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">树状结构的域名服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.3.3.</span> <span class="toc-text">类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E7%9A%84%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">2.1.3.4.</span> <span class="toc-text">域名的解析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%9D%A0%E5%88%AB%E4%BA%BA%EF%BC%89"><span class="toc-number">2.1.3.4.1.</span> <span class="toc-text">递归查询（靠别人）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%9D%A0%E8%87%AA%E5%B7%B1%EF%BC%89"><span class="toc-number">2.1.3.4.2.</span> <span class="toc-text">迭代查询（靠自己）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">2.1.3.5.</span> <span class="toc-text">高速缓存域名服务器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AEFTP"><span class="toc-number">2.2.</span> <span class="toc-text">6.2 文件传送协议FTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-FTP%E6%A6%82%E8%BF%B0"><span class="toc-number">2.2.1.</span> <span class="toc-text">6.2.1 FTP概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-2"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%BF%9B%E7%A8%8B%E5%B7%A5%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">主进程工作步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-3-%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AETFTP"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">6.2.3 简单文件传送协议TFTP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E8%BF%9C%E7%A8%8B%E7%BB%88%E7%AB%AF%E5%8D%8F%E8%AE%AETELNET"><span class="toc-number">2.3.</span> <span class="toc-text">6.3 远程终端协议TELNET</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E4%B8%87%E7%BB%B4%E7%BD%91www"><span class="toc-number">2.4.</span> <span class="toc-text">6.4 万维网www</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-1-%E4%B8%87%E7%BB%B4%E7%BD%91%E6%A6%82%E8%BF%B0"><span class="toc-number">2.4.1.</span> <span class="toc-text">6.4.1 万维网概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-2-%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%AC%A6URL"><span class="toc-number">2.4.2.</span> <span class="toc-text">6.4.2 统一资源定位符URL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-3-%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E9%80%81%E5%8D%8F%E8%AE%AEhttp"><span class="toc-number">2.4.3.</span> <span class="toc-text">6.4.3 超文本传送协议http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-4-%E4%B8%87%E7%BB%B4%E7%BD%91%E7%9A%84%E6%96%87%E6%A1%A3"><span class="toc-number">2.4.4.</span> <span class="toc-text">6.4.4 万维网的文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-5-%E4%B8%87%E7%BB%B4%E7%BD%91%E7%9A%84%E4%BF%A1%E6%81%AF%E6%A3%80%E7%B4%A2%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.4.5.</span> <span class="toc-text">6.4.5 万维网的信息检索系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-6-%E5%8D%9A%E5%AE%A2%E5%92%8C%E5%BE%AE%E5%8D%9A"><span class="toc-number">2.4.6.</span> <span class="toc-text">6.4.6 博客和微博</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-7-%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C"><span class="toc-number">2.4.7.</span> <span class="toc-text">6.4.7 社交网络</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">2.5.</span> <span class="toc-text">6.5 电子邮件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AEDHCP"><span class="toc-number">2.6.</span> <span class="toc-text">6.6 动态主机配置协议DHCP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">2.6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP%E4%B8%AD%E7%BB%A7%E4%BB%A3%E7%90%86"><span class="toc-number">2.6.2.</span> <span class="toc-text">DHCP中继代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">2.6.3.</span> <span class="toc-text">DHCP协议的工作过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7-%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AESNMP"><span class="toc-number">2.7.</span> <span class="toc-text">6.7 简单网络管理协议SNMP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-1-%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.7.1.</span> <span class="toc-text">6.7.1 网络管理的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A2%AB%E7%AE%A1%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">被管对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.7.1.2.</span> <span class="toc-text">网络管理协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-2-%E7%AE%A1%E7%90%86%E4%BF%A1%E6%81%AF%E7%BB%93%E6%9E%84SMI"><span class="toc-number">2.7.2.</span> <span class="toc-text">6.7.2 管理信息结构SMI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-3-%E7%AE%A1%E7%90%86%E4%BF%A1%E6%81%AF%E5%BA%93MIB%EF%BC%88%E7%95%A5%EF%BC%89"><span class="toc-number">2.7.3.</span> <span class="toc-text">6.7.3 管理信息库MIB（略）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-4-SNMP%E7%9A%84%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83%E5%92%8C%E6%8A%A5%E6%96%87"><span class="toc-number">2.7.4.</span> <span class="toc-text">6.7.4 SNMP的协议数据单元和报文</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%B7%E9%98%B1"><span class="toc-number">2.7.4.1.</span> <span class="toc-text">陷阱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.7.4.2.</span> <span class="toc-text">报文格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-8-%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%E8%B7%A8%E8%B6%8A%E7%BD%91%E7%BB%9C%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">2.8.</span> <span class="toc-text">6.8 应用进程跨越网络的通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-8-1-%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E5%92%8C%E5%BA%94%E7%94%A8%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.8.1.</span> <span class="toc-text">6.8.1 系统调用和应用编程接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">2.8.1.1.</span> <span class="toc-text">系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.8.1.2.</span> <span class="toc-text">应用编程接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%8D%E7%B1%BB"><span class="toc-number">2.8.1.2.1.</span> <span class="toc-text">种类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%97%E6%8E%A5%E5%AD%97%E4%BD%9C%E7%94%A8"><span class="toc-number">2.8.1.3.</span> <span class="toc-text">套接字作用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-9-P2P%E5%BA%94%E7%94%A8"><span class="toc-number">2.9.</span> <span class="toc-text">6.9 P2P应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-1-%E5%85%B7%E6%9C%89%E9%9B%86%E4%B8%AD%E7%9B%AE%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84P2P%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F%EF%BC%88Napster%EF%BC%89"><span class="toc-number">2.9.1.</span> <span class="toc-text">6.9.1 具有集中目录服务器的P2P工作方式（Napster）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-2-%E5%85%B7%E6%9C%89%E5%85%A8%E5%88%86%E5%B8%83%E6%96%B9%E5%BC%8F%E7%BB%93%E6%9E%84%E7%9A%84P2P%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E7%A8%8B%E5%BA%8F%EF%BC%88eMule%EF%BC%89"><span class="toc-number">2.9.2.</span> <span class="toc-text">6.9.2 具有全分布方式结构的P2P文件共享程序（eMule）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-3-P2P%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%E7%9A%84%E5%88%86%E6%9E%90%EF%BC%88%E7%95%A5%EF%BC%89"><span class="toc-number">2.9.3.</span> <span class="toc-text">6.9.3 P2P文件分发的分析（略）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AC%A1%E4%BD%9C%E4%B8%9A%E6%94%B9%E6%AD%A3"><span class="toc-number">3.</span> <span class="toc-text">第三次作业改正</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.130Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openwrt/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openwrt/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.128Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openuler2/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openuler2/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.126Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler4/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler4/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.123Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler3/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler3/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.121Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div></div></div></div></div></main><footer id="footer" style="background: -#77D78D"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By charles-webber</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Nice to meet you!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><div class="aplayer no-destroy" data-id="770116495" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'be1b66712a57497892f4e70a9fc0e4f9';
  var gaud_map_key = 'ec1c17e08135f345b1f956f3fa268b0c# 锟�??得�?�拷图web锟斤拷锟斤拷key';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'true';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item swiper_container_card" style="height: auto;width: 100%"><div id="random"><div id="random-banner"><canvas id="peoplecanvas"></canvas></div><a id="random-hover" style="width:100%;height:auto;" href="javascript:toRandomPost()" rel="external nofollow noreferrer" one-link-mark="yes"><i class="fa fa-paper-plane" style="margin-left:10px"></i><div style="margin-left:10px">随便逛逛<i class="fa-solid fa-arrow-right" style="margin-left:10px"></i></div></a></div><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images.wallpaperscraft.com/image/single/cosmonaut_space_suit_multicolored_123724_1280x720.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt="">云服务</a><div class="blog-slider__text">ict培训云服务</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images.wallpaperscraft.com/image/single/silhouette_wall_screens_1067807_1280x720.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt="">云计算</a><div class="blog-slider__text">ict培训云计算</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wallhaven.cc/w/85j9qo" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">python learning</a><div class="blog-slider__text">python learning for AI</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="2022/11/27/预习作业：/S:\Blog\source\_posts\从0开始学习c语言\wallhaven-28p95m.png" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">c for class</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/zy/wallhaven-zygeko.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">answer</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper_init.js"></script><script data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/people.min.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>