<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>asuka&amp;ayanami | asuka&amp;ayanami</title><meta name="author" content="charles-webber"><meta name="copyright" content="charles-webber"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#78D77D"><meta name="description" content="第四章 网络层网络层解决了什么问题 4.1 网络层提供的两种服务观点一：网络负责可靠交付（虚电路———逻辑链接）  很容易发生数据的丢失  观点二：网络提供数据报服务  由更高层负责可靠通信（运输层） 问题是会产生失序问题，但是网络健壮性增强了 虚电路和数据报服务的对比    4.2 网际协议IP4.2.1 虚拟互连网络不同网络的差异 通过使用中间设备来互连不同的网络—路由器（网络层） 各种中间设">
<meta property="og:type" content="article">
<meta property="og:title" content="asuka&amp;ayanami">
<meta property="og:url" content="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="asuka&amp;ayanami">
<meta property="og:description" content="第四章 网络层网络层解决了什么问题 4.1 网络层提供的两种服务观点一：网络负责可靠交付（虚电路———逻辑链接）  很容易发生数据的丢失  观点二：网络提供数据报服务  由更高层负责可靠通信（运输层） 问题是会产生失序问题，但是网络健壮性增强了 虚电路和数据报服务的对比    4.2 网际协议IP4.2.1 虚拟互连网络不同网络的差异 通过使用中间设备来互连不同的网络—路由器（网络层） 各种中间设">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg">
<meta property="article:published_time" content="2024-07-10T07:22:46.109Z">
<meta property="article:modified_time" content="2023-09-17T09:00:29.620Z">
<meta property="article:author" content="charles-webber">
<meta property="article:tag" content="i need something to cure me">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'asuka&ayanami',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-09-17 17:00:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#FF855DFF')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#78D77D')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css" /><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="asuka&ayanami" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">asuka&amp;ayanami</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-10T07:22:46.109Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-17T09:00:29.620Z" title="更新于 2023-09-17 17:00:29">2023-09-17</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第四章-网络层"><a href="#第四章-网络层" class="headerlink" title="第四章 网络层"></a>第四章 网络层</h1><h2 id="网络层解决了什么问题"><a href="#网络层解决了什么问题" class="headerlink" title="网络层解决了什么问题"></a>网络层解决了什么问题</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141049355.png" alt="image-20230808141049355"></p>
<h2 id="4-1-网络层提供的两种服务"><a href="#4-1-网络层提供的两种服务" class="headerlink" title="4.1 网络层提供的两种服务"></a>4.1 网络层提供的两种服务</h2><p>观点一：网络负责可靠交付（虚电路———逻辑链接）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806211230128.png" alt="image-20230806211230128"></p>
<p>很容易发生数据的丢失</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806211535386.png" alt="image-20230806211535386"></p>
<p>观点二：网络提供数据报服务</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806211626416.png" alt="image-20230806211626416"></p>
<p><strong>由更高层负责可靠通信（运输层）</strong></p>
<p>问题是会产生失序问题，但是网络健壮性增强了</p>
<p><strong>虚电路和数据报服务的对比</strong></p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806212312552.png" alt="image-20230806212312552"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806212321164.png" alt="image-20230806212321164"></p>
<h2 id="4-2-网际协议IP"><a href="#4-2-网际协议IP" class="headerlink" title="4.2 网际协议IP"></a>4.2 网际协议IP</h2><h3 id="4-2-1-虚拟互连网络"><a href="#4-2-1-虚拟互连网络" class="headerlink" title="4.2.1 虚拟互连网络"></a>4.2.1 虚拟互连网络</h3><h4 id="不同网络的差异"><a href="#不同网络的差异" class="headerlink" title="不同网络的差异"></a>不同网络的差异</h4><p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806212752293.png" alt="image-20230806212752293"></strong></p>
<p>通过使用中间设备来互连不同的网络—路由器（网络层）</p>
<h4 id="各种中间设备"><a href="#各种中间设备" class="headerlink" title="各种中间设备"></a>各种中间设备</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806213117006-1691328677767-1.png" alt="image-20230806213117006"></p>
<p>中继器和集线器是物理层设备</p>
<h4 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806213247881.png" alt="image-20230806213247881"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806213257734.png" alt="image-20230806213257734"></p>
<p>***IGMP？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806213403935.png" alt="image-20230806213403935"></p>
<p>数据实际上运输会由上往下封装再由下往上解码运输，但是</p>
<h3 id="4-2-2-IP数据报的格式"><a href="#4-2-2-IP数据报的格式" class="headerlink" title="4.2.2 IP数据报的格式"></a>4.2.2 IP数据报的格式</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806214222431.png" alt="image-20230806214222431"></p>
<p>IP数据报分为首部和数据两部分，其中首部分为固定部分20字节和可变部分</p>
<h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><p>前4个字节是协议版本，例如IPv4</p>
<h4 id="首部长度"><a href="#首部长度" class="headerlink" title="首部长度"></a>首部长度</h4><p>一比特代表4字节</p>
<p>为1111时首部长15*4&#x3D;60字节</p>
<h4 id="区分服务"><a href="#区分服务" class="headerlink" title="区分服务"></a>区分服务</h4><p>一般不用</p>
<h4 id="总长度"><a href="#总长度" class="headerlink" title="总长度"></a>总长度</h4><p>首部+数据的长度，一比特为一字节</p>
<p>最大为2的16次方-1字节，但是实际上传输不了这么多—MTU限制总长度，那么就要将数据分片传输</p>
<h4 id="标识位"><a href="#标识位" class="headerlink" title="标识位"></a>标识位</h4><p>为了将分片的数据能够准确无误的重组</p>
<p><strong>所有分片都有相同的标识</strong></p>
<h4 id="标志"><a href="#标志" class="headerlink" title="标志"></a>标志</h4><p>为了将分片的数据能够准确无误的重组</p>
<p><strong>标志位中有保留位，待开发</strong></p>
<p>MF位：more fragment（是否最后分片），1表示后面还有分片，反之没有</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806220909198.png" alt="image-20230806220909198"></p>
<p>DF位：don‘t fragment（是否允许分片），1表示没有分片，0表示分片</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806220920117.png" alt="image-20230806220920117"></p>
<h4 id="片偏移"><a href="#片偏移" class="headerlink" title="片偏移"></a>片偏移</h4><p>为了将分片的数据能够准确无误的重组</p>
<p><strong>判断给数据开🔪的地方在哪里</strong></p>
<p><strong><u>栗子</u>：</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806220507327.png" alt="image-20230806220507327"></p>
<p>每个MTU里面包括20字节的首部和1480字节的数据，增加了首部开销</p>
<p>问题：为什么不把分组平均</p>
<p>答：避免头重脚轻，浪费首部</p>
<h5 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806221237407.png" alt="image-20230806221237407"></p>
<p>数据的尾巴除以8得到偏移量 </p>
<h4 id="生存时间"><a href="#生存时间" class="headerlink" title="生存时间"></a>生存时间</h4><p>路由器之间传递一次叫<strong>跳</strong></p>
<p>生存时间就是规定这个跳的次数</p>
<p>不同的操作系统这个TTL（生存时间）值不同</p>
<p><em><strong><u>目的是不让数据在网络上无休止的浪费资源</u></strong></em></p>
<h4 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h4><p>协议负责指出数据部分应该交给上层的哪个部分</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806222222105.png" alt="image-20230806222222105"></p>
<h4 id="首部校验和"><a href="#首部校验和" class="headerlink" title="首部校验和"></a>首部校验和</h4><p>只对首部的部分进行校验，首部变了校验和也发生变化，不用管数据部分，错了让运输层想办法</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806222448510.png" alt="image-20230806222448510"></p>
<h4 id="源地址，目的地址"><a href="#源地址，目的地址" class="headerlink" title="源地址，目的地址"></a>源地址，目的地址</h4><p>一个接口一个IP地址，32位的二进制地址</p>
<h4 id="可选字段"><a href="#可选字段" class="headerlink" title="可选字段"></a>可选字段</h4><p>不怎么用</p>
<h4 id="IP协议功能及报头字段总结"><a href="#IP协议功能及报头字段总结" class="headerlink" title="IP协议功能及报头字段总结"></a>IP协议功能及报头字段总结</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806223210166.png" alt="image-20230806223210166"></p>
<p>以上首部各部分功能</p>
<h2 id="4-2-3-IP地址"><a href="#4-2-3-IP地址" class="headerlink" title="4.2.3 IP地址"></a>4.2.3 IP地址</h2><p>IP是啥？你家的经纬度~</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806223603213.png" alt="image-20230806223603213"></p>
<p>32位还是少了</p>
<h5 id="IP地址采用2级结构"><a href="#IP地址采用2级结构" class="headerlink" title="IP地址采用2级结构"></a><strong>IP地址采用2级结构</strong></h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806224526292.png" alt="image-20230806224526292"></p>
<p>哪一个网络的哪一台主机？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806224635807.png" alt="image-20230806224635807"></p>
<h5 id="分级地址优点"><a href="#分级地址优点" class="headerlink" title="分级地址优点"></a>分级地址优点</h5><p>方便分配和数据转发</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806224902585.png" alt="image-20230806224902585"></p>
<h5 id="点分十进制"><a href="#点分十进制" class="headerlink" title="点分十进制"></a>点分十进制</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806225032707.png" alt="image-20230806225032707"></p>
<p>一个字节一个部分</p>
<h4 id="分类的IP地址（old）"><a href="#分类的IP地址（old）" class="headerlink" title="分类的IP地址（old）"></a>分类的IP地址（old）</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806225250534.png" alt="image-20230806225250534"></p>
<p>类别判断：A类第一个比特是0，B类前两位是10，c类前三位是110；A类网络地址8位，B类16位，C类24位</p>
<h6 id="以A类地址为例"><a href="#以A类地址为例" class="headerlink" title="以A类地址为例"></a>以A类地址为例</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806225710816.png" alt="image-20230806225710816"></p>
<p>网络地址除了标识符以外，全1表示用于本地软件环回测试，全0代表本网络（？）</p>
<p>主机地址全1表示该网络的所有主机（广播），全0代表主机所在的网络地址（84.0.0.0）</p>
<h6 id="网络大小"><a href="#网络大小" class="headerlink" title="网络大小"></a><strong>网络大小</strong></h6><p>这个网络大小差别太大，可能会取上不足取下有余，分配不灵活</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806230132160.png" alt="image-20230806230132160"></p>
<h6 id="不可分配地址"><a href="#不可分配地址" class="headerlink" title="不可分配地址"></a><strong>不可分配地址</strong></h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806230218512.png" alt="image-20230806230218512"></p>
<h4 id="子网划分（subnetting）"><a href="#子网划分（subnetting）" class="headerlink" title="子网划分（subnetting）"></a>子网划分（subnetting）</h4><p>就是使得划分标准增加以便合理调整网络大小<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806230730738.png" alt="image-20230806230730738"></p>
<p>栗子：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806230913588.png" alt="image-20230806230913588"></p>
<p>这样就能按照用户需求diy网络大小了</p>
<h6 id="子网掩码（可变VLSM？）"><a href="#子网掩码（可变VLSM？）" class="headerlink" title="子网掩码（可变VLSM？）"></a>子网掩码（可变VLSM？）</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806231804265.png" alt="image-20230806231804265"></p>
<p>掩码用来计算网络地址</p>
<p>网络和子网位为1，主机位为0，再把掩码和IP地址AND一下后，仅保留网络地址（路由器要用）</p>
<h6 id="IP地址是否在同一个网络"><a href="#IP地址是否在同一个网络" class="headerlink" title="IP地址是否在同一个网络"></a>IP地址是否在同一个网络</h6><ul>
<li><p>子网掩码的位数相等</p>
</li>
<li><p>网络地址每一位都相同</p>
</li>
</ul>
<h6 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806232354376.png" alt="image-20230806232354376"></p>
<p><strong>解决了网络过大的问题，没有解决网络太小的问题</strong></p>
<h4 id="无分类编制方法CIDR（new）"><a href="#无分类编制方法CIDR（new）" class="headerlink" title="无分类编制方法CIDR（new）"></a>无分类编制方法CIDR（new）</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806232545705.png" alt="image-20230806232545705"></p>
<p><strong>网络前缀可以变长度</strong></p>
<h5 id="CIDR用掩码表示网络前缀的长度"><a href="#CIDR用掩码表示网络前缀的长度" class="headerlink" title="CIDR用掩码表示网络前缀的长度"></a>CIDR用掩码表示网络前缀的长度</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230806232941019.png" alt="image-20230806232941019"></p>
<h5 id="三个特殊地址块"><a href="#三个特殊地址块" class="headerlink" title="三个特殊地址块"></a>三个特殊地址块</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807000645119.png" alt="image-20230807000645119"></p>
<h5 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h5><ul>
<li><strong>构造超网</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807000813594.png" alt="image-20230807000813594"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807004212535.png" alt="image-20230807004212535"></p>
<p>分地址块就是把小数点往后面移动，构造超网就是左移（？ ）</p>
<ul>
<li><strong>减少路由条目</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807004706061.png" alt="image-20230807004706061"></p>
<p>地址数量也没有增加</p>
<h3 id="IP地址的特点"><a href="#IP地址的特点" class="headerlink" title="IP地址的特点"></a>IP地址的特点</h3><ul>
<li>每个IP地址都由网络前缀和主机号两部分组成<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807005239784.png" alt="image-20230807005239784"></li>
<li>IP地址是标志一台主机（或路由器）和一条链路的接口</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807005258395.png" alt="image-20230807005258395"></p>
<ul>
<li>转发器或交换机连起来的若干个局域网仍为一个网络<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807005354436.png" alt="image-20230807005354436"></li>
<li>在IP地址中，所有分配到网络前缀的网络都是平等的</li>
</ul>
<h2 id="4-3-IP分组的转发"><a href="#4-3-IP分组的转发" class="headerlink" title="4.3 IP分组的转发"></a>4.3 IP分组的转发</h2><h3 id="路由器分组转发算法"><a href="#路由器分组转发算法" class="headerlink" title="路由器分组转发算法"></a>路由器分组转发算法</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807111631247.png" alt="image-20230807111631247">255.255.255.255是广播地址但是发送这个的资源要求太大，一般情况下属于受限地址，只有直接地址可以转发</p>
<h3 id="4-3-1-基于终点的转发"><a href="#4-3-1-基于终点的转发" class="headerlink" title="4.3.1 基于终点的转发"></a>4.3.1 基于终点的转发</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807101322460.png" alt="image-20230807101322460"></p>
<h6 id="路由器转发表包含哪些信息？"><a href="#路由器转发表包含哪些信息？" class="headerlink" title="路由器转发表包含哪些信息？"></a><strong>路由器转发表包含哪些信息？</strong></h6><ul>
<li>终点地址</li>
<li>下一跳地址</li>
</ul>
<p>*都是目的网络地址，为节约路由表空间</p>
<h6 id="栗子"><a href="#栗子" class="headerlink" title="栗子"></a><strong>栗子</strong></h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807103230926.png" alt="image-20230807103230926"></p>
<h6 id="转发步骤"><a href="#转发步骤" class="headerlink" title="转发步骤"></a>转发步骤</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807103438419.png" alt="image-20230807103438419"></p>
<h6 id="问题：掩码从哪来？"><a href="#问题：掩码从哪来？" class="headerlink" title="问题：掩码从哪来？"></a>问题：掩码从哪来？</h6><p> IP首部不能更改，但是路由表还可以更改，在转发表地址加一个后缀即可，如128.0.0.12&#x2F;24</p>
<p>将目的地址和掩码AND后的网络号相同则转发，不同则跳过，比对下一条，全部不匹配则丢弃</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141625182.png" alt="image-20230808141625182"></p>
<h3 id="4-3-2-最长前缀匹配"><a href="#4-3-2-最长前缀匹配" class="headerlink" title="4.3.2 最长前缀匹配"></a>4.3.2 最长前缀匹配</h3><p>查找转发表的过程就是逐行寻找前缀匹配</p>
<p>使用CIDR时，<strong>查找转发表时可能会得到不同的匹配结果</strong>，子网掩码越大越精确(网络地址最长)</p>
<p>一般出现这种情况，网络有包含关系，例如学校的哪一个班</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807110520624.png" alt="image-20230807110520624"><strong>前缀最长的排更前面</strong></p>
<p><strong>特殊路由</strong></p>
<ul>
<li>主机路由a.b.c.d&#x2F;32—转发表最前面</li>
<li>默认路由0.0.0.0&#x2F;0—转发表最后面（兜底）</li>
</ul>
<h6 id="二叉线索查找"><a href="#二叉线索查找" class="headerlink" title="二叉线索查找"></a>二叉线索查找</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807141640178.png" alt="image-20230807141640178"></p>
<h3 id="4-3-3-IP地址与MAC地址"><a href="#4-3-3-IP地址与MAC地址" class="headerlink" title="4.3.3 IP地址与MAC地址"></a>4.3.3 IP地址与MAC地址</h3><p>网络层已经有了IP地址，那么MAC地址还有用吗？</p>
<p><strong>上层的工作要依靠下层的服务</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807141846232.png" alt="image-20230807141846232"></p>
<h5 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807142034635.png" alt="image-20230807142034635"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141221807.png" alt="image-20230808141221807"></p>
<p>那么怎么知道下一个路由器的MAC地址是多少呢？（由IP得到MAC地址–ARP协议）</p>
<h3 id="4-3-4-地址解析协议ARP"><a href="#4-3-4-地址解析协议ARP" class="headerlink" title="4.3.4 地址解析协议ARP"></a>4.3.4 地址解析协议ARP</h3><h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807142659965.png" alt="image-20230807142659965"></p>
<p>广播ARP请求</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807142749072.png" alt="image-20230807142749072">单播ARP响应</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143004913.png" alt="image-20230807143004913"><strong>流程图</strong></p>
<h4 id="ARP高速缓存"><a href="#ARP高速缓存" class="headerlink" title="ARP高速缓存"></a>ARP高速缓存</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143045605.png" alt="image-20230807143045605"></p>
<p><strong>作用</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143137784.png" alt="image-20230807143137784"></p>
<p>减少广播通信，节约资源</p>
<p><u>2台主机在不同的局域网地址ARP时通过路由器来代传输，首先路由器当接收者回应ARP，然后又当发送者发送ARP请求，简称又当爹当妈</u></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143744911.png" alt="image-20230807143744911"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143753000.png" alt="image-20230807143753000"></p>
<h4 id="使用ARP的4种情况"><a href="#使用ARP的4种情况" class="headerlink" title="使用ARP的4种情况"></a>使用ARP的4种情况</h4><ul>
<li>同一局域网的不同主机</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807143953144.png" alt="image-20230807143953144"></p>
<ul>
<li>不同局域网的不同主机</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807144030029.png" alt="image-20230807144030029"></p>
<ul>
<li>路由器和主机（近）</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807144218044.png" alt="image-20230807144218044"></p>
<ul>
<li>路由器和主机（远）</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807144251058.png" alt="image-20230807144251058"></p>
<h4 id="使用IP的原因"><a href="#使用IP的原因" class="headerlink" title="使用IP的原因"></a>使用IP的原因</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807144456071.png" alt="image-20230807144456071"></p>
<h2 id="4-4-网络控制报文协议ICMP"><a href="#4-4-网络控制报文协议ICMP" class="headerlink" title="4.4 网络控制报文协议ICMP"></a>4.4 网络控制报文协议ICMP</h2><p><u>确保一定的准确性措施</u></p>
<h3 id="4-4-1-4-4-2-ICMP报文的格式和种类-ICMP的实际运用"><a href="#4-4-1-4-4-2-ICMP报文的格式和种类-ICMP的实际运用" class="headerlink" title="4.4.1|4.4.2 ICMP报文的格式和种类|ICMP的实际运用"></a>4.4.1|4.4.2 ICMP报文的格式和种类|ICMP的实际运用</h3><ul>
<li>允许主机或者路由器报告差错情况和提供有关异常情况的报告</li>
<li>由主机和路由器用于网络层的 通信</li>
<li>是网络层的协议</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807151542329.png" alt="image-20230807151542329"></p>
<h4 id="报文种类"><a href="#报文种类" class="headerlink" title="报文种类"></a>报文种类</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807151607124.png" alt="image-20230807151607124"></p>
<p>某个问题的细节原因</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807151758185.png" alt="image-20230807151758185"></p>
<p>差错单向，<strong>询问双向</strong></p>
<h4 id="ICMP差错报文"><a href="#ICMP差错报文" class="headerlink" title="ICMP差错报文"></a>ICMP差错报文</h4><p>在数据丢失的时候产生报文</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807152032143.png" alt="image-20230807152032143"></p>
<h4 id="Traceroute-x2F-Tracert（追踪路由）"><a href="#Traceroute-x2F-Tracert（追踪路由）" class="headerlink" title="Traceroute&#x2F;Tracert（追踪路由）"></a>Traceroute&#x2F;Tracert（追踪路由）</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807152201649.png" alt="image-20230807152201649"></p>
<p><strong>方法</strong></p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807152424539.png" alt="image-20230807152424539"></p>
<ul>
<li>源故意发错误信息</li>
<li>路由器丢弃</li>
<li>产生ICMP错误报文</li>
<li>回应，报文暴露路由器IP地址</li>
</ul>
<p>但是现在一些重要的路由器IP地址会收到保护无法使用Tracert</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141723742.png" alt="image-20230808141723742"></p>
<h4 id="不发ICMP的情况"><a href="#不发ICMP的情况" class="headerlink" title="不发ICMP的情况"></a>不发ICMP的情况</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807152745857-1691393271150-1.png" alt="image-20230807152745857"></p>
<ul>
<li>ICMP自己错误</li>
<li>第一个分片错了以后都不发（肯定错）</li>
<li>多播不发</li>
<li>特殊地址不发</li>
</ul>
<h4 id="ICMP询问报文"><a href="#ICMP询问报文" class="headerlink" title="ICMP询问报文"></a>ICMP询问报文</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807153029924.png" alt="image-20230807153029924"></p>
<h4 id="PING和ICMP"><a href="#PING和ICMP" class="headerlink" title="PING和ICMP"></a>PING和ICMP</h4><ul>
<li>用于测试两个主机之间的连通性</li>
<li>使用了ICMP的回送请求与会送回答报文</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807153321359.png" alt="image-20230807153321359"></p>
<ul>
<li><strong>疯狂PING一个主机可以把它的资源占用完–DDoS</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141704500.png" alt="image-20230808141704500"></p>
<ul>
<li>可以通过返回的TTL<strong>值判断对方的操作系统</strong></li>
</ul>
<h2 id="4-5-IPv6"><a href="#4-5-IPv6" class="headerlink" title="4.5 IPv6"></a>4.5 IPv6</h2><h3 id="4-5-1-IPv6协议概述"><a href="#4-5-1-IPv6协议概述" class="headerlink" title="4.5.1 IPv6协议概述"></a>4.5.1 IPv6协议概述</h3><h4 id="出现原因："><a href="#出现原因：" class="headerlink" title="出现原因："></a>出现原因：</h4><ul>
<li><p>地址不足</p>
</li>
<li><p>分类不合理</p>
</li>
<li><p>NAT没有完美解决大小问题</p>
</li>
<li><p>安全问题</p>
</li>
<li><p>移动性支持弱</p>
</li>
</ul>
<h4 id="主要变化"><a href="#主要变化" class="headerlink" title="主要变化"></a>主要变化</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807154601034.png" alt="image-20230807154601034"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807154703967.png" alt="image-20230807154703967"></p>
<p>看看得了，记不住</p>
<h4 id="IP数据报的一般形式"><a href="#IP数据报的一般形式" class="headerlink" title="IP数据报的一般形式"></a>IP数据报的一般形式</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807154809377.png" alt="image-20230807154809377"></p>
<p>基本首部+有效载荷（扩展首部加数据部分）</p>
<h5 id="基本首部"><a href="#基本首部" class="headerlink" title="基本首部"></a>基本首部</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807154925383.png" alt="image-20230807154925383"></p>
<h6 id="版本-1"><a href="#版本-1" class="headerlink" title="版本"></a>版本</h6><p>指明协议版本–4位（0110&#x3D;6）</p>
<h6 id="通信量类"><a href="#通信量类" class="headerlink" title="通信量类"></a>通信量类</h6><p>8位，区分不同类别IPv6数据报或者优先级</p>
<h6 id="流标号"><a href="#流标号" class="headerlink" title="流标号"></a>流标号</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807155217831.png" alt="image-20230807155217831">感觉有伏笔</p>
<h6 id="有效载荷长度"><a href="#有效载荷长度" class="headerlink" title="有效载荷长度"></a>有效载荷长度</h6><p>16位，指明有效载荷的字节数（除去基本首部）</p>
<h6 id="下一个首部"><a href="#下一个首部" class="headerlink" title="下一个首部"></a>下一个首部</h6><p>告知上层该数据之后要交给哪一个协议进行处理</p>
<h6 id="跳数限制"><a href="#跳数限制" class="headerlink" title="跳数限制"></a>跳数限制</h6><p>类似TTL</p>
<h5 id="IPv4和IPv6报文对比"><a href="#IPv4和IPv6报文对比" class="headerlink" title="IPv4和IPv6报文对比"></a>IPv4和IPv6报文对比</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807155730602.png" alt="image-20230807155730602"></p>
<h5 id="扩展首部"><a href="#扩展首部" class="headerlink" title="扩展首部"></a>扩展首部</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807155924524-1691395165160-3.png" alt="image-20230807155924524"></p>
<h3 id="4-5-2-IPv6的地址"><a href="#4-5-2-IPv6的地址" class="headerlink" title="4.5.2 IPv6的地址"></a>4.5.2 IPv6的地址</h3><ul>
<li>地址占128位</li>
<li>三种基本类型：单播、多播、任播–找最近的（广播变任播）</li>
</ul>
<h4 id="冒泡十六进制"><a href="#冒泡十六进制" class="headerlink" title="冒泡十六进制"></a>冒泡十六进制</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807160309236.png" alt="image-20230807160309236"></p>
<p>16个比特转为4位16进制数</p>
<p><strong>零压缩：一连串的0化简为两个冒号</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807160759262.png" alt="image-20230807160759262">这种情况只能简化较为长的一段0，只能压缩一次</p>
<h5 id="点分十进制后缀"><a href="#点分十进制后缀" class="headerlink" title="点分十进制后缀"></a>点分十进制后缀</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807161315016.png" alt="image-20230807161315016"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141811108.png" alt="image-20230808141811108"></p>
<h5 id="前缀的表示方法"><a href="#前缀的表示方法" class="headerlink" title="前缀的表示方法"></a>前缀的表示方法</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807161004686.png" alt="image-20230807161004686"></p>
<p>子网掩码没了</p>
<h5 id="分类（略）"><a href="#分类（略）" class="headerlink" title="分类（略）"></a>分类（略）</h5><h5 id="零压缩"><a href="#零压缩" class="headerlink" title="零压缩"></a>零压缩</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808141849205.png" alt="image-20230808141849205"></p>
<h5 id="地址分配"><a href="#地址分配" class="headerlink" title="地址分配"></a>地址分配</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807161701344.png" alt="image-20230807161701344"></p>
<p>无地址自动配置就是网络前缀加上你的MAC地址</p>
<p>ND:邻居发现</p>
<p>RS：路由器请求报文</p>
<h3 id="4-5-3-从IPv4到IPv6"><a href="#4-5-3-从IPv4到IPv6" class="headerlink" title="4.5.3 从IPv4到IPv6"></a>4.5.3 从IPv4到IPv6</h3><p>太先进很难适应，现在还在过渡</p>
<ul>
<li><p>向后兼容：v6可以兼容v4</p>
</li>
<li><p>过渡策略：</p>
<h4 id="双协议栈"><a href="#双协议栈" class="headerlink" title="双协议栈"></a>双协议栈</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807162407784.png" alt="image-20230807162407784"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808142050720.png" alt="image-20230808142050720"></p>
<h4 id="2-隧道技术"><a href="#2-隧道技术" class="headerlink" title="2.隧道技术"></a>2.隧道技术</h4></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807162520160.png" alt="image-20230807162520160"></p>
<p>给v6套了个皮变成v4了</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230808142120111.png" alt="image-20230808142120111"></p>
<h3 id="4-5-4ICMPv6"><a href="#4-5-4ICMPv6" class="headerlink" title="4.5.4ICMPv6"></a>4.5.4ICMPv6</h3><p>升级版！ARP没了</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807165514244.png" alt="image-20230807165514244"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807165554884.png" alt="image-20230807165554884"></p>
<p>ND：临站发现</p>
<p>MLD：多播听众交付</p>
<h2 id="4-6-路由选择协议"><a href="#4-6-路由选择协议" class="headerlink" title="4.6 路由选择协议"></a>4.6 路由选择协议</h2><p>路由器怎么智能选择线路进行数据传输？</p>
<h3 id="4-6-1-路由选择协议概述"><a href="#4-6-1-路由选择协议概述" class="headerlink" title="4.6.1 路由选择协议概述"></a>4.6.1 路由选择协议概述</h3><h4 id="策略分类"><a href="#策略分类" class="headerlink" title="策略分类"></a>策略分类</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807170106633.png" alt="image-20230807170106633"></p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807170254095.png" alt="image-20230807170254095"></p>
<p><strong>采用层次路由</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807170345001.png" alt="image-20230807170345001"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807171111130.png" alt="image-20230807171111130"></p>
<h4 id="自治系统"><a href="#自治系统" class="headerlink" title="自治系统"></a>自治系统</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807170431409.png" alt="image-20230807170431409"></p>
<p>每一个AS<strong>区域使用单一和一致的路由选择策略</strong></p>
<p>接下来就介绍这些AS内策略，称为内部网关路由协议（IGP）</p>
<p>》》》》OSPF，RIP，IS-IS，IGPR，EIGRP</p>
<p>不同AS之间靠<u>BGP协议</u></p>
<h3 id="4-6-2内部网关协议RIP"><a href="#4-6-2内部网关协议RIP" class="headerlink" title="4.6.2内部网关协议RIP"></a>4.6.2内部网关协议RIP</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807171135311.png" alt="image-20230807171135311"></p>
<h4 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807171208954.png" alt="image-20230807171208954"></p>
<ul>
<li>简单</li>
<li>基于经过路由器的数量</li>
<li>距离就是跳数</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807171337327.png" alt="image-20230807171337327"></li>
</ul>
<p>16这个数字在RIP中意为不可达</p>
<h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>仅和相邻路由器交换信息</li>
<li>交换路由表</li>
<li>按<strong>固定时间间隔</strong>交换信息</li>
</ul>
<h4 id="RIP路由表的建立"><a href="#RIP路由表的建立" class="headerlink" title="RIP路由表的建立"></a>RIP路由表的建立</h4><ul>
<li>每个路由器刚开始知道自己的邻居</li>
<li>接着再告诉自己的其他邻居</li>
<li>若干次后谁都知道有谁了</li>
<li>RIP路由表项：目的网络，距离，下一跳</li>
<li>！！下一跳不变的情况下无脑更新，下一跳不同比较跳数，更新选择跳数小的</li>
</ul>
<h4 id="RIP2"><a href="#RIP2" class="headerlink" title="RIP2"></a>RIP2</h4><p>待补充</p>
<h4 id="优缺点-1"><a href="#优缺点-1" class="headerlink" title="优缺点"></a>优缺点</h4><p>好消息传得快，坏消息传得慢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807173546461.png" alt="image-20230807173546461"></p>
<h3 id="4-6-3内部网关协议OSPF"><a href="#4-6-3内部网关协议OSPF" class="headerlink" title="4.6.3内部网关协议OSPF"></a>4.6.3内部网关协议OSPF</h3><p> 基于速度来判断</p>
<h4 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807174609321.png" alt="image-20230807174609321"></p>
<p>适用于大网络，使用层次结构的区域划分，加快了收敛速度,减少了网络流量（分主干区域和普通区域）</p>
<h4 id="度量值"><a href="#度量值" class="headerlink" title="度量值"></a>度量值</h4><p>费用，<strong>带宽</strong>，时延，距离</p>
<h4 id="区域边界路由器ABR"><a href="#区域边界路由器ABR" class="headerlink" title="区域边界路由器ABR"></a>区域边界路由器ABR</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807175227842.png" alt="image-20230807175227842"></p>
<p>如图R7</p>
<h4 id="自治系统边界路由器ASBR"><a href="#自治系统边界路由器ASBR" class="headerlink" title="自治系统边界路由器ASBR"></a>自治系统边界路由器ASBR</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807175330310.png" alt="image-20230807175330310"></p>
<p>如图R6</p>
<h4 id="5种分组类型"><a href="#5种分组类型" class="headerlink" title="5种分组类型"></a>5种分组类型</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807175524218.png" alt="image-20230807175524218"></p>
<h4 id="OSPF分组"><a href="#OSPF分组" class="headerlink" title="OSPF分组"></a>OSPF分组</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807175549576.png" alt="image-20230807175549576	">好复杂。。。</p>
<h4 id="可靠的洪泛法"><a href="#可靠的洪泛法" class="headerlink" title="可靠的洪泛法"></a>可靠的洪泛法</h4><p>待补充</p>
<h3 id="4-6-4外部网关协议BGP"><a href="#4-6-4外部网关协议BGP" class="headerlink" title="4.6.4外部网关协议BGP"></a>4.6.4外部网关协议BGP</h3><h4 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807175850277.png" alt="image-20230807175850277"></p>
<p>BGP发言人（ASBR）</p>
<p>*感觉就像外交官，主管外国</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807180238722.png" alt="image-20230807180238722"></p>
<p>内部不能通过BGP分享信息</p>
<h4 id="BGP路由信息"><a href="#BGP路由信息" class="headerlink" title="BGP路由信息"></a>BGP路由信息</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807180705853.png" alt="image-20230807180705853"></p>
<h4 id="BGP路由选择顺序"><a href="#BGP路由选择顺序" class="headerlink" title="BGP路由选择顺序"></a>BGP路由选择顺序</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807180740690.png" alt="image-20230807180740690"></p>
<ul>
<li>不能兜圈子</li>
<li>AS-PATH中，不允许出现相同的AS号</li>
</ul>
<h3 id="4-6-5路由器工作原理"><a href="#4-6-5路由器工作原理" class="headerlink" title="4.6.5路由器工作原理"></a>4.6.5路由器工作原理</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807181339505.png" alt="image-20230807181339505"></p>
<p>核心功能：控制层面（各种路由协议+转发表）+数据层面（传输IP数据报）</p>
<h4 id="数据层面"><a href="#数据层面" class="headerlink" title="数据层面"></a>数据层面</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807181613046.png" alt="image-20230807181613046"></p>
<h4 id="核心层面"><a href="#核心层面" class="headerlink" title="核心层面"></a>核心层面</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807181635738.png" alt="image-20230807181635738"></p>
<h4 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807181842439.png" alt="image-20230807181842439"></p>
<p>有点像交换机</p>
<h4 id="路由种类优先级"><a href="#路由种类优先级" class="headerlink" title="路由种类优先级"></a>路由种类优先级</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182009045.png" alt="image-20230807182009045"></p>
<h4 id="IP报文转发过程"><a href="#IP报文转发过程" class="headerlink" title="IP报文转发过程"></a>IP报文转发过程</h4><ul>
<li>链路层解封，IP头部校验</li>
<li>获取报文目的IP地址</li>
<li>基于IP地址查转发表</li>
<li>查询失败，丢弃报文</li>
<li>查询成功–》获取转发出接口和下一跳IP，TTL减一，计算校验和，链路层封装发送</li>
</ul>
<h4 id="交换结构"><a href="#交换结构" class="headerlink" title="交换结构"></a>交换结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182454857.png" alt="image-20230807182454857"></p>
<h2 id="4-7-IP多播"><a href="#4-7-IP多播" class="headerlink" title="4.7 IP多播"></a>4.7 IP多播</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182649216.png" alt="image-20230807182649216"></p>
<p><strong>应用</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182725459.png" alt="image-20230807182725459"></p>
<p><strong>实现步骤</strong></p>
<ul>
<li>确定多播组成员</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182825052.png" alt="image-20230807182825052"></p>
<ul>
<li>多播路由</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807182936016.png" alt="image-20230807182936016"></p>
<p>转发多播数据的三种方法</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807183421026.png" alt="image-20230807183421026"></p>
<h2 id="4-8-VPN和NAT"><a href="#4-8-VPN和NAT" class="headerlink" title="4.8 VPN和NAT"></a>4.8 VPN和NAT</h2><h4 id="4-8-1-VPN"><a href="#4-8-1-VPN" class="headerlink" title="4.8.1 VPN"></a>4.8.1 VPN</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807183641376.png" alt="image-20230807183641376"></p>
<h4 id="4-8-2-NAT"><a href="#4-8-2-NAT" class="headerlink" title="4.8.2 NAT"></a>4.8.2 NAT</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807183802714.png" alt="image-20230807183802714"></p>
<h5 id="NAPT"><a href="#NAPT" class="headerlink" title="NAPT"></a>NAPT</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807183840227.png" alt="image-20230807183840227"></p>
<p>为了让公有网络进入私有网络能够分辨给哪个主机（一定程度上保护了私有网络）</p>
<h5 id="优缺点-2"><a href="#优缺点-2" class="headerlink" title="优缺点"></a>优缺点</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807184107243.png" alt="image-20230807184107243"></p>
<h2 id="4-9-MPLS-简化路由表"><a href="#4-9-MPLS-简化路由表" class="headerlink" title="4.9 MPLS(简化路由表)"></a>4.9 MPLS(简化路由表)</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807184225019.png" alt="image-20230807184225019"></p>
<ul>
<li>打标签</li>
<li>在链路层硬件转发</li>
</ul>
<p><strong>格式</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807184601827.png" alt="image-20230807184601827"></p>
<h2 id="4-10-软件定义网络SDN"><a href="#4-10-软件定义网络SDN" class="headerlink" title="4.10 软件定义网络SDN"></a>4.10 软件定义网络SDN</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807184656953-1691405218125-5.png" alt="image-20230807184656953"></p>
<p>在路由器的控制层面工作，将每一个路由器各自计算路由升级成统一管理，路由器就只有查表转发了，效率增加了</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807184919702.png" alt="image-20230807184919702"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/.io//image-20230807185050656.png" alt="image-20230807185050656"></p>
<p>openflow–数据层面：流表（匹配加动作）</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io">charles-webber</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/">http://charles-webebr.github.io/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://charles-webebr.github.io" target="_blank">asuka&ayanami</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%B8%89%E6%AC%A1%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2024/07/10/2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NzUzOS8zNDAwMw=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">charles-webber</div><div class="author-info__description">never give up,keep moving</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/charles-webber"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://bilibili.com/" target="_blank" title="bilibili"><i class="fa-regular fa-heart"></i></a><a class="social-icon" href="mailto:1484145649@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://leetcode.cn/" target="_blank" title="gaming()"><i class="fa-solid fa-gamepad"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Dear Miss.? When i think of you'I'm reminded of the beautiful plains of Iowa.The distance between us is breaking my spirit. My time and experiences without you are meaningless to me. Falling in love with you was the easiest thing i have ever done.Nothing matters but you.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.</span> <span class="toc-text">第四章 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.</span> <span class="toc-text">网络层解决了什么问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.2.</span> <span class="toc-text">4.1 网络层提供的两种服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AEIP"><span class="toc-number">1.3.</span> <span class="toc-text">4.2 网际协议IP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E8%99%9A%E6%8B%9F%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">1.3.1.</span> <span class="toc-text">4.2.1 虚拟互连网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%BD%91%E7%BB%9C%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">不同网络的差异</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%84%E7%A7%8D%E4%B8%AD%E9%97%B4%E8%AE%BE%E5%A4%87"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">各种中间设备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">IP协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">4.2.2 IP数据报的格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E9%83%A8%E9%95%BF%E5%BA%A6"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">首部长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%86%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">区分服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E9%95%BF%E5%BA%A6"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">总长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E4%BD%8D"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">标识位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%BF%97"><span class="toc-number">1.3.2.6.</span> <span class="toc-text">标志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%87%E5%81%8F%E7%A7%BB"><span class="toc-number">1.3.2.7.</span> <span class="toc-text">片偏移</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97"><span class="toc-number">1.3.2.7.1.</span> <span class="toc-text">计算</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%AD%98%E6%97%B6%E9%97%B4"><span class="toc-number">1.3.2.8.</span> <span class="toc-text">生存时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.2.9.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E9%83%A8%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-number">1.3.2.10.</span> <span class="toc-text">首部校验和</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E5%9C%B0%E5%9D%80%EF%BC%8C%E7%9B%AE%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="toc-number">1.3.2.11.</span> <span class="toc-text">源地址，目的地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E5%AD%97%E6%AE%B5"><span class="toc-number">1.3.2.12.</span> <span class="toc-text">可选字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E5%8D%8F%E8%AE%AE%E5%8A%9F%E8%83%BD%E5%8F%8A%E6%8A%A5%E5%A4%B4%E5%AD%97%E6%AE%B5%E6%80%BB%E7%BB%93"><span class="toc-number">1.3.2.13.</span> <span class="toc-text">IP协议功能及报头字段总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-3-IP%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.</span> <span class="toc-text">4.2.3 IP地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E9%87%87%E7%94%A82%E7%BA%A7%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.0.0.1.</span> <span class="toc-text">IP地址采用2级结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E7%BA%A7%E5%9C%B0%E5%9D%80%E4%BC%98%E7%82%B9"><span class="toc-number">1.4.0.0.2.</span> <span class="toc-text">分级地址优点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%82%B9%E5%88%86%E5%8D%81%E8%BF%9B%E5%88%B6"><span class="toc-number">1.4.0.0.3.</span> <span class="toc-text">点分十进制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80%EF%BC%88old%EF%BC%89"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">分类的IP地址（old）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A5A%E7%B1%BB%E5%9C%B0%E5%9D%80%E4%B8%BA%E4%BE%8B"><span class="toc-number">1.4.0.1.0.1.</span> <span class="toc-text">以A类地址为例</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.4.0.1.0.2.</span> <span class="toc-text">网络大小</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%88%86%E9%85%8D%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.0.1.0.3.</span> <span class="toc-text">不可分配地址</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86%EF%BC%88subnetting%EF%BC%89"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">子网划分（subnetting）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%EF%BC%88%E5%8F%AF%E5%8F%98VLSM%EF%BC%9F%EF%BC%89"><span class="toc-number">1.4.0.2.0.1.</span> <span class="toc-text">子网掩码（可变VLSM？）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E6%98%AF%E5%90%A6%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.4.0.2.0.2.</span> <span class="toc-text">IP地址是否在同一个网络</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.4.0.2.0.3.</span> <span class="toc-text">优缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%88%B6%E6%96%B9%E6%B3%95CIDR%EF%BC%88new%EF%BC%89"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">无分类编制方法CIDR（new）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#CIDR%E7%94%A8%E6%8E%A9%E7%A0%81%E8%A1%A8%E7%A4%BA%E7%BD%91%E7%BB%9C%E5%89%8D%E7%BC%80%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">1.4.0.3.1.</span> <span class="toc-text">CIDR用掩码表示网络前缀的长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E7%89%B9%E6%AE%8A%E5%9C%B0%E5%9D%80%E5%9D%97"><span class="toc-number">1.4.0.3.2.</span> <span class="toc-text">三个特殊地址块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.4.0.3.3.</span> <span class="toc-text">特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.4.1.</span> <span class="toc-text">IP地址的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-IP%E5%88%86%E7%BB%84%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">1.5.</span> <span class="toc-text">4.3 IP分组的转发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%86%E7%BB%84%E8%BD%AC%E5%8F%91%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.1.</span> <span class="toc-text">路由器分组转发算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-%E5%9F%BA%E4%BA%8E%E7%BB%88%E7%82%B9%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.3.1 基于终点的转发</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E8%BD%AC%E5%8F%91%E8%A1%A8%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E4%BF%A1%E6%81%AF%EF%BC%9F"><span class="toc-number">1.5.2.0.0.1.</span> <span class="toc-text">路由器转发表包含哪些信息？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%97%E5%AD%90"><span class="toc-number">1.5.2.0.0.2.</span> <span class="toc-text">栗子</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BD%AC%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.5.2.0.0.3.</span> <span class="toc-text">转发步骤</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%EF%BC%9A%E6%8E%A9%E7%A0%81%E4%BB%8E%E5%93%AA%E6%9D%A5%EF%BC%9F"><span class="toc-number">1.5.2.0.0.4.</span> <span class="toc-text">问题：掩码从哪来？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3.2 最长前缀匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E7%BA%BF%E7%B4%A2%E6%9F%A5%E6%89%BE"><span class="toc-number">1.5.3.0.0.1.</span> <span class="toc-text">二叉线索查找</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-3-IP%E5%9C%B0%E5%9D%80%E4%B8%8EMAC%E5%9C%B0%E5%9D%80"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.3.3 IP地址与MAC地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E6%AF%94"><span class="toc-number">1.5.4.0.1.</span> <span class="toc-text">对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-4-%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AEARP"><span class="toc-number">1.5.5.</span> <span class="toc-text">4.3.4 地址解析协议ARP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ARP%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">ARP高速缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8ARP%E7%9A%844%E7%A7%8D%E6%83%85%E5%86%B5"><span class="toc-number">1.5.5.3.</span> <span class="toc-text">使用ARP的4种情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8IP%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.5.5.4.</span> <span class="toc-text">使用IP的原因</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E7%BD%91%E7%BB%9C%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AEICMP"><span class="toc-number">1.6.</span> <span class="toc-text">4.4 网络控制报文协议ICMP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-4-4-2-ICMP%E6%8A%A5%E6%96%87%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%92%8C%E7%A7%8D%E7%B1%BB-ICMP%E7%9A%84%E5%AE%9E%E9%99%85%E8%BF%90%E7%94%A8"><span class="toc-number">1.6.1.</span> <span class="toc-text">4.4.1|4.4.2 ICMP报文的格式和种类|ICMP的实际运用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E7%A7%8D%E7%B1%BB"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">报文种类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ICMP%E5%B7%AE%E9%94%99%E6%8A%A5%E6%96%87"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">ICMP差错报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Traceroute-x2F-Tracert%EF%BC%88%E8%BF%BD%E8%B8%AA%E8%B7%AF%E7%94%B1%EF%BC%89"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">Traceroute&#x2F;Tracert（追踪路由）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8F%91ICMP%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">不发ICMP的情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ICMP%E8%AF%A2%E9%97%AE%E6%8A%A5%E6%96%87"><span class="toc-number">1.6.1.5.</span> <span class="toc-text">ICMP询问报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PING%E5%92%8CICMP"><span class="toc-number">1.6.1.6.</span> <span class="toc-text">PING和ICMP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-IPv6"><span class="toc-number">1.7.</span> <span class="toc-text">4.5 IPv6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-IPv6%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">1.7.1.</span> <span class="toc-text">4.5.1 IPv6协议概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E5%8E%9F%E5%9B%A0%EF%BC%9A"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">出现原因：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%8F%98%E5%8C%96"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">主要变化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E4%B8%80%E8%88%AC%E5%BD%A2%E5%BC%8F"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">IP数据报的一般形式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%A6%96%E9%83%A8"><span class="toc-number">1.7.1.3.1.</span> <span class="toc-text">基本首部</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%89%88%E6%9C%AC-1"><span class="toc-number">1.7.1.3.1.1.</span> <span class="toc-text">版本</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E9%87%8F%E7%B1%BB"><span class="toc-number">1.7.1.3.1.2.</span> <span class="toc-text">通信量类</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%81%E6%A0%87%E5%8F%B7"><span class="toc-number">1.7.1.3.1.3.</span> <span class="toc-text">流标号</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%89%E6%95%88%E8%BD%BD%E8%8D%B7%E9%95%BF%E5%BA%A6"><span class="toc-number">1.7.1.3.1.4.</span> <span class="toc-text">有效载荷长度</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E4%B8%AA%E9%A6%96%E9%83%A8"><span class="toc-number">1.7.1.3.1.5.</span> <span class="toc-text">下一个首部</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B7%B3%E6%95%B0%E9%99%90%E5%88%B6"><span class="toc-number">1.7.1.3.1.6.</span> <span class="toc-text">跳数限制</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#IPv4%E5%92%8CIPv6%E6%8A%A5%E6%96%87%E5%AF%B9%E6%AF%94"><span class="toc-number">1.7.1.3.2.</span> <span class="toc-text">IPv4和IPv6报文对比</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E9%A6%96%E9%83%A8"><span class="toc-number">1.7.1.3.3.</span> <span class="toc-text">扩展首部</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2-IPv6%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="toc-number">1.7.2.</span> <span class="toc-text">4.5.2 IPv6的地址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">冒泡十六进制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%82%B9%E5%88%86%E5%8D%81%E8%BF%9B%E5%88%B6%E5%90%8E%E7%BC%80"><span class="toc-number">1.7.2.1.1.</span> <span class="toc-text">点分十进制后缀</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%89%8D%E7%BC%80%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.2.1.2.</span> <span class="toc-text">前缀的表示方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%88%E7%95%A5%EF%BC%89"><span class="toc-number">1.7.2.1.3.</span> <span class="toc-text">分类（略）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9B%B6%E5%8E%8B%E7%BC%A9"><span class="toc-number">1.7.2.1.4.</span> <span class="toc-text">零压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D"><span class="toc-number">1.7.2.1.5.</span> <span class="toc-text">地址分配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-3-%E4%BB%8EIPv4%E5%88%B0IPv6"><span class="toc-number">1.7.3.</span> <span class="toc-text">4.5.3 从IPv4到IPv6</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">1.7.3.1.</span> <span class="toc-text">双协议栈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF"><span class="toc-number">1.7.3.2.</span> <span class="toc-text">2.隧道技术</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-4ICMPv6"><span class="toc-number">1.7.4.</span> <span class="toc-text">4.5.4ICMPv6</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.8.</span> <span class="toc-text">4.6 路由选择协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-1-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">1.8.1.</span> <span class="toc-text">4.6.1 路由选择协议概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%96%E7%95%A5%E5%88%86%E7%B1%BB"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">策略分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">1.8.1.2.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.8.1.3.</span> <span class="toc-text">自治系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-2%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AERIP"><span class="toc-number">1.8.2.</span> <span class="toc-text">4.6.2内部网关协议RIP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">工作原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RIP%E8%B7%AF%E7%94%B1%E8%A1%A8%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.8.2.3.</span> <span class="toc-text">RIP路由表的建立</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RIP2"><span class="toc-number">1.8.2.4.</span> <span class="toc-text">RIP2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9-1"><span class="toc-number">1.8.2.5.</span> <span class="toc-text">优缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-3%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AEOSPF"><span class="toc-number">1.8.3.</span> <span class="toc-text">4.6.3内部网关协议OSPF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-2"><span class="toc-number">1.8.3.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC"><span class="toc-number">1.8.3.2.</span> <span class="toc-text">度量值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%9F%9F%E8%BE%B9%E7%95%8C%E8%B7%AF%E7%94%B1%E5%99%A8ABR"><span class="toc-number">1.8.3.3.</span> <span class="toc-text">区域边界路由器ABR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%E8%BE%B9%E7%95%8C%E8%B7%AF%E7%94%B1%E5%99%A8ASBR"><span class="toc-number">1.8.3.4.</span> <span class="toc-text">自治系统边界路由器ASBR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E7%A7%8D%E5%88%86%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.8.3.5.</span> <span class="toc-text">5种分组类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPF%E5%88%86%E7%BB%84"><span class="toc-number">1.8.3.6.</span> <span class="toc-text">OSPF分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E7%9A%84%E6%B4%AA%E6%B3%9B%E6%B3%95"><span class="toc-number">1.8.3.7.</span> <span class="toc-text">可靠的洪泛法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-4%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AEBGP"><span class="toc-number">1.8.4.</span> <span class="toc-text">4.6.4外部网关协议BGP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-3"><span class="toc-number">1.8.4.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.8.4.2.</span> <span class="toc-text">BGP路由信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BGP%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.8.4.3.</span> <span class="toc-text">BGP路由选择顺序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-5%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.8.5.</span> <span class="toc-text">4.6.5路由器工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B1%82%E9%9D%A2"><span class="toc-number">1.8.5.1.</span> <span class="toc-text">数据层面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%B1%82%E9%9D%A2"><span class="toc-number">1.8.5.2.</span> <span class="toc-text">核心层面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">1.8.5.3.</span> <span class="toc-text">结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%A7%8D%E7%B1%BB%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">1.8.5.4.</span> <span class="toc-text">路由种类优先级</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="toc-number">1.8.5.5.</span> <span class="toc-text">IP报文转发过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E7%BB%93%E6%9E%84"><span class="toc-number">1.8.5.6.</span> <span class="toc-text">交换结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-IP%E5%A4%9A%E6%92%AD"><span class="toc-number">1.9.</span> <span class="toc-text">4.7 IP多播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-8-VPN%E5%92%8CNAT"><span class="toc-number">1.10.</span> <span class="toc-text">4.8 VPN和NAT</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-8-1-VPN"><span class="toc-number">1.10.0.1.</span> <span class="toc-text">4.8.1 VPN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-8-2-NAT"><span class="toc-number">1.10.0.2.</span> <span class="toc-text">4.8.2 NAT</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#NAPT"><span class="toc-number">1.10.0.2.1.</span> <span class="toc-text">NAPT</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9-2"><span class="toc-number">1.10.0.2.2.</span> <span class="toc-text">优缺点</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-9-MPLS-%E7%AE%80%E5%8C%96%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="toc-number">1.11.</span> <span class="toc-text">4.9 MPLS(简化路由表)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-10-%E8%BD%AF%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9CSDN"><span class="toc-number">1.12.</span> <span class="toc-text">4.10 软件定义网络SDN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.12.1.</span> <span class="toc-text">优点</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.130Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openwrt/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openwrt/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.128Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openuler2/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openuler2/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.126Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler4/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler4/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.123Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler3/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler3/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.121Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div></div></div></div></div></main><footer id="footer" style="background: -#77D78D"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By charles-webber</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Nice to meet you!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><div class="aplayer no-destroy" data-id="770116495" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'be1b66712a57497892f4e70a9fc0e4f9';
  var gaud_map_key = 'ec1c17e08135f345b1f956f3fa268b0c# 锟�??得�?�拷图web锟斤拷锟斤拷key';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'true';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item swiper_container_card" style="height: auto;width: 100%"><div id="random"><div id="random-banner"><canvas id="peoplecanvas"></canvas></div><a id="random-hover" style="width:100%;height:auto;" href="javascript:toRandomPost()" rel="external nofollow noreferrer" one-link-mark="yes"><i class="fa fa-paper-plane" style="margin-left:10px"></i><div style="margin-left:10px">随便逛逛<i class="fa-solid fa-arrow-right" style="margin-left:10px"></i></div></a></div><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images.wallpaperscraft.com/image/single/cosmonaut_space_suit_multicolored_123724_1280x720.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt="">云服务</a><div class="blog-slider__text">ict培训云服务</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/07/10/云服务/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images.wallpaperscraft.com/image/single/silhouette_wall_screens_1067807_1280x720.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt="">云计算</a><div class="blog-slider__text">ict培训云计算</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/07/10/云计算1/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wallhaven.cc/w/85j9qo" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">python learning</a><div class="blog-slider__text">python learning for AI</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="2022/11/27/预习作业：/S:\Blog\source\_posts\从0开始学习c语言\wallhaven-28p95m.png" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">c for class</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/zy/wallhaven-zygeko.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">answer</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper_init.js"></script><script data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/people.min.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>