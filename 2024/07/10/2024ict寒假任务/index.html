<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>asuka&amp;ayanami | asuka&amp;ayanami</title><meta name="author" content="charles-webber"><meta name="copyright" content="charles-webber"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#78D77D"><meta name="description" content="2024ict寒假任务ensp部分 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959">
<meta property="og:type" content="article">
<meta property="og:title" content="asuka&amp;ayanami">
<meta property="og:url" content="http://charles-webebr.github.io/2024/07/10/2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1/index.html">
<meta property="og:site_name" content="asuka&amp;ayanami">
<meta property="og:description" content="2024ict寒假任务ensp部分 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg">
<meta property="article:published_time" content="2024-07-10T07:22:46.106Z">
<meta property="article:modified_time" content="2024-03-30T08:38:37.438Z">
<meta property="article:author" content="charles-webber">
<meta property="article:tag" content="i need something to cure me">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://charles-webebr.github.io/2024/07/10/2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'asuka&ayanami',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2024-03-30 16:38:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#FF855DFF')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#78D77D')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css" /><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="asuka&ayanami" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">asuka&amp;ayanami</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/"><i class="fa-fw fa-solid fa-bell"></i><span> ACG</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-10T07:22:46.106Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-30T08:38:37.438Z" title="更新于 2024-03-30 16:38:37">2024-03-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="2024ict寒假任务"><a href="#2024ict寒假任务" class="headerlink" title="2024ict寒假任务"></a>2024ict寒假任务</h1><h2 id="ensp部分"><a href="#ensp部分" class="headerlink" title="ensp部分"></a>ensp部分</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224012013720.png" alt="image-20240224012013720"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//命令历史</span></span><br><span class="line">vlan batch <span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span> <span class="number">71</span> <span class="number">61</span> <span class="number">72</span> <span class="number">62</span> <span class="number">100</span> <span class="number">200</span></span><br><span class="line">  <span class="comment">//链路聚合  </span></span><br><span class="line">  <span class="type">int</span> Eth-Trunk <span class="number">1</span></span><br><span class="line">  trunkport GigabitEthernet <span class="number">0</span>/<span class="number">0</span>/<span class="number">6</span></span><br><span class="line">  trunkport GigabitEthernet <span class="number">0</span>/<span class="number">0</span>/<span class="number">7</span></span><br><span class="line">    <span class="comment">//接入层设置链路类型</span></span><br><span class="line"><span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">    port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan <span class="number">40</span></span><br><span class="line">        <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">3</span></span><br><span class="line">    port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan <span class="number">40</span></span><br><span class="line">        <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">    port link-type access</span><br><span class="line"> port <span class="keyword">default</span> vlan <span class="number">40</span></span><br><span class="line">    <span class="comment">//汇聚层设置链路类型（注意vlan 20 和30可以互通）</span></span><br><span class="line">    <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">     port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan <span class="number">10</span></span><br><span class="line">        <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">     port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan <span class="number">20</span> <span class="number">30</span></span><br><span class="line">    <span class="comment">//聚合链路设置</span></span><br><span class="line">    </span><br><span class="line">interface Eth-Trunk1</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan <span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span> <span class="number">200</span></span><br><span class="line"><span class="comment">//服务器的交换机链路状态</span></span><br><span class="line">    sw8:</span><br><span class="line">vlan batch <span class="number">17</span> <span class="number">77</span></span><br><span class="line">  port <span class="keyword">default</span> vlan <span class="number">77</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">3</span></span><br><span class="line">  port <span class="keyword">default</span> vlan <span class="number">17</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">  port link-type access</span><br><span class="line">  port <span class="keyword">default</span> vlan <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    sw7:</span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">3</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">  port link-type trunk</span><br><span class="line">  port trunk allow-pass vlan <span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span> <span class="number">200</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">  port link-type access</span><br><span class="line">  port <span class="keyword">default</span> vlan <span class="number">200</span></span><br><span class="line"><span class="comment">//stp配置</span></span><br><span class="line">  <span class="comment">//sw5</span></span><br><span class="line">  stp region-configuration</span><br><span class="line">  region-name monika</span><br><span class="line">  instance <span class="number">10</span> vlan <span class="number">10</span></span><br><span class="line">  instance <span class="number">20</span> vlan <span class="number">20</span> <span class="number">30</span></span><br><span class="line">  instance <span class="number">40</span> vlan <span class="number">40</span></span><br><span class="line">  instance <span class="number">1</span> vlan <span class="number">100</span></span><br><span class="line">  active region-configuration</span><br><span class="line"><span class="comment">//根桥设置,sw1-4和sw7不配置</span></span><br><span class="line">sw5：</span><br><span class="line">stp instance <span class="number">2</span> root secondary</span><br><span class="line">stp instance <span class="number">10</span> root primary</span><br><span class="line">stp instance <span class="number">20</span> root primary</span><br><span class="line">stp instance <span class="number">40</span> root secondary</span><br><span class="line">    sw6：</span><br><span class="line">      stp instance <span class="number">2</span> root pri</span><br><span class="line">stp instance <span class="number">10</span> root secondary</span><br><span class="line">stp instance <span class="number">20</span> root secondary</span><br><span class="line">stp instance <span class="number">40</span> root pri</span><br><span class="line">      <span class="comment">//虚拟接口设置</span></span><br><span class="line">  <span class="type">int</span> vlanif <span class="number">40</span></span><br><span class="line">  ip ad <span class="number">192.168</span><span class="number">.40</span><span class="number">.5</span> <span class="number">24</span></span><br><span class="line">  dis th</span><br><span class="line">  <span class="type">int</span> vlanif <span class="number">200</span></span><br><span class="line">  ip ad <span class="number">192.168</span><span class="number">.200</span><span class="number">.5</span> <span class="number">24</span></span><br><span class="line">  <span class="type">int</span> vlanif <span class="number">61</span></span><br><span class="line">  ip ad <span class="number">192.168</span><span class="number">.61</span><span class="number">.5</span> <span class="number">24</span></span><br><span class="line">  <span class="type">int</span> vlanif <span class="number">71</span></span><br><span class="line">  ip ad <span class="number">192.168</span><span class="number">.71</span><span class="number">.5</span> <span class="number">24</span></span><br><span class="line"><span class="comment">//路由器配置ip</span></span><br><span class="line">      ar7：</span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.71</span><span class="number">.7</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.72</span><span class="number">.7</span> <span class="number">24</span></span><br><span class="line">       <span class="type">int</span> g3/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.67</span><span class="number">.7</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.78</span><span class="number">.7</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g4/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.77</span><span class="number">.7</span> <span class="number">24</span></span><br><span class="line">      </span><br><span class="line">        ar6：</span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.62</span><span class="number">.6</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.61</span><span class="number">.6</span> <span class="number">24</span></span><br><span class="line">       <span class="type">int</span> g3/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.67</span><span class="number">.6</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">2</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.68</span><span class="number">.6</span> <span class="number">24</span></span><br><span class="line">      <span class="type">int</span> g4/<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">      ip ad <span class="number">192.168</span><span class="number">.17</span><span class="number">.6</span> <span class="number">24</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//配置vrrp</span></span><br><span class="line"> interface Vlanif10</span><br><span class="line"> vrrp vrid <span class="number">10</span> virtual-ip <span class="number">192.168</span><span class="number">.10</span><span class="number">.254</span></span><br><span class="line">      。。。。。</span><br><span class="line">      <span class="comment">//配置dhcp</span></span><br><span class="line">      <span class="comment">//服务器</span></span><br><span class="line">      ip pool vlan10</span><br><span class="line"> gateway-<span class="built_in">list</span> <span class="number">192.168</span><span class="number">.10</span><span class="number">.254</span> </span><br><span class="line"> network <span class="number">192.168</span><span class="number">.10</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> </span><br><span class="line"> excluded-ip-address <span class="number">192.168</span><span class="number">.10</span><span class="number">.5</span> <span class="number">192.168</span><span class="number">.10</span><span class="number">.6</span> </span><br><span class="line">      ip pool vlan40</span><br><span class="line"> gateway-<span class="built_in">list</span> <span class="number">192.168</span><span class="number">.40</span><span class="number">.254</span> </span><br><span class="line"> network <span class="number">192.168</span><span class="number">.40</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> </span><br><span class="line"> excluded-ip-address <span class="number">192.168</span><span class="number">.40</span><span class="number">.5</span> <span class="number">192.168</span><span class="number">.40</span><span class="number">.6</span> </span><br><span class="line">      <span class="comment">//中继</span></span><br><span class="line">      dhcp en</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">10</span></span><br><span class="line">        dhcp select relay</span><br><span class="line">  dhcp relay server-ip <span class="number">192.168</span><span class="number">.200</span><span class="number">.55</span></span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">20</span></span><br><span class="line">        dhcp select relay</span><br><span class="line">  dhcp relay server-ip <span class="number">192.168</span><span class="number">.200</span><span class="number">.55</span></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">30</span></span><br><span class="line">        dhcp select relay</span><br><span class="line">  dhcp relay server-ip <span class="number">192.168</span><span class="number">.200</span><span class="number">.55</span></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">40</span></span><br><span class="line">        dhcp select relay</span><br><span class="line">  dhcp relay server-ip <span class="number">192.168</span><span class="number">.200</span><span class="number">.55</span></span><br><span class="line"><span class="comment">//ospf配置</span></span><br><span class="line">      <span class="comment">//交换机5，6</span></span><br><span class="line">      ospf</span><br><span class="line">      ar <span class="number">0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.62</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.72</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">            ar <span class="number">10</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.10</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">  ar <span class="number">20</span></span><br><span class="line">  network <span class="number">192.168</span><span class="number">.20</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">  ar <span class="number">30</span></span><br><span class="line">  network <span class="number">192.168</span><span class="number">.30</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">  ar <span class="number">40</span></span><br><span class="line">  network <span class="number">192.168</span><span class="number">.40</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="comment">//路由器r7</span></span><br><span class="line">      ospf</span><br><span class="line">      ar <span class="number">0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.71</span><span class="number">.7</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.72</span><span class="number">.7</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">        network <span class="number">192.168</span><span class="number">.67</span><span class="number">.7</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.78</span><span class="number">.7</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.87</span><span class="number">.7</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="comment">//路由器r6</span></span><br><span class="line">      ospf</span><br><span class="line">      ar <span class="number">0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.61</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.62</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">        network <span class="number">192.168</span><span class="number">.67</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.68</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.86</span><span class="number">.6</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      <span class="comment">//交换机8</span></span><br><span class="line">                      ospf</span><br><span class="line">      ar <span class="number">0</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.87</span><span class="number">.8</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.86</span><span class="number">.8</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      ar <span class="number">100</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.100</span><span class="number">.8</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      <span class="comment">//ar8</span></span><br><span class="line">      ospf</span><br><span class="line">      ar <span class="number">0</span></span><br><span class="line">       network <span class="number">192.168</span><span class="number">.78</span><span class="number">.8</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      network <span class="number">192.168</span><span class="number">.68</span><span class="number">.8</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">   </span><br><span class="line">      ip route-<span class="type">static</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">0</span> <span class="number">114.114</span><span class="number">.114</span><span class="number">.9</span> preference <span class="number">120</span></span><br><span class="line">      ip route-<span class="type">static</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">0</span> <span class="number">114.114</span><span class="number">.115</span><span class="number">.9</span></span><br><span class="line">      <span class="comment">//bfd配置</span></span><br><span class="line">      <span class="comment">//sw6</span></span><br><span class="line"> bfd tor8 bind peer-ip <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span> source-ip <span class="number">6.6</span><span class="number">.6</span><span class="number">.6</span></span><br><span class="line"> discriminator local <span class="number">66</span></span><br><span class="line"> discriminator remote <span class="number">68</span></span><br><span class="line"> min-tx-interval <span class="number">100</span></span><br><span class="line"> min-rx-interval <span class="number">100</span></span><br><span class="line"> commit</span><br><span class="line">      <span class="comment">//r8</span></span><br><span class="line">            bfd tosw5 bind peer-ip <span class="number">5.5</span><span class="number">.5</span><span class="number">.5</span> source-ip <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span></span><br><span class="line"> discriminator local <span class="number">58</span></span><br><span class="line"> discriminator remote <span class="number">55</span></span><br><span class="line"> min-tx-interval <span class="number">100</span></span><br><span class="line"> min-rx-interval <span class="number">100</span></span><br><span class="line"> commit</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      <span class="comment">//vrrp联动bfd</span></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">10</span></span><br><span class="line">  vrrp vrid <span class="number">10</span> track bfd-session <span class="number">55</span> reduced <span class="number">30</span></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">20</span></span><br><span class="line">  vrrp vrid <span class="number">20</span> track bfd-session <span class="number">55</span> reduced <span class="number">30</span></span><br><span class="line">  <span class="type">int</span> vlan <span class="number">30</span></span><br><span class="line">  vrrp vrid <span class="number">30</span> track bfd-session <span class="number">55</span> reduced <span class="number">30</span></span><br><span class="line"><span class="comment">//三层安全，pc1不允许互通其他</span></span><br><span class="line">  acl <span class="number">2001</span></span><br><span class="line">  rule <span class="number">5</span> deny source <span class="number">192.168</span><span class="number">.10</span><span class="number">.0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.255</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">  traffic-filter outbound acl <span class="number">2001</span></span><br><span class="line"><span class="comment">//pc2和3不能访问pc4</span></span><br><span class="line">       acl <span class="number">2002</span></span><br><span class="line">  rule deny source <span class="number">192.168</span><span class="number">.20</span><span class="number">.0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.255</span></span><br><span class="line">       rule deny source <span class="number">192.168</span><span class="number">.30</span><span class="number">.0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.255</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">  traffic-filter outbound acl <span class="number">2002</span></span><br><span class="line">      <span class="comment">//pc2-4不能访问外网</span></span><br><span class="line">      <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">      undo traffic-filter outbound acl <span class="number">2001</span></span><br><span class="line">  acl <span class="number">2001</span></span><br><span class="line">  rule <span class="number">10</span> deny source <span class="number">114.114</span><span class="number">.116</span><span class="number">.1</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">  <span class="type">int</span> g0/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">  traffic-filter outbound acl <span class="number">2001</span></span><br><span class="line"><span class="comment">//telnet配置</span></span><br><span class="line">      telnet server enable</span><br><span class="line">      user-interface vty <span class="number">0</span> <span class="number">4</span></span><br><span class="line">      authentication-mode aaa</span><br><span class="line">      user privilege level <span class="number">15</span></span><br><span class="line">      q</span><br><span class="line">      aaa</span><br><span class="line">        local-user monika password cipher <span class="number">357159</span></span><br><span class="line"> </span><br><span class="line"> local-user monika privilege level <span class="number">15</span></span><br><span class="line"> local-user monika service-type telnet</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>rule 5 permit source 192.168.10.0 0.0.0.255<br> rule 10 deny</p>
<p>vlan设计：</p>
<p>访客区规划到单独的vlan</p>
<p>营销和行政属于不同vlan</p>
<p>研发属于不同vlan</p>
<p>明确放行哪些vlan，不能all</p>
<p>配置管理vlan</p>
<p>二层消除环路：</p>
<p>使用mstp技术实现防环，域名为jian</p>
<p>根桥集中在汇聚层，vrrp的master和根桥一样</p>
<p>互连的两条使用e-thunk（图）</p>
<p>三层网络设计:</p>
<p>ip和vlan对应</p>
<p>大部分ip由dhcp服务器分配</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224002655473.png" alt="image-20240224002655473"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224002945881.png" alt="image-20240224002945881"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224003518089.png" alt="image-20240224003518089"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224011722302.png" alt="image-20240224011722302"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224011820990.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240224011855910.png" alt="image-20240224011855910"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240225124544740.png" alt="image-20240225124544740"></p>
<h2 id="Linux部分"><a href="#Linux部分" class="headerlink" title="Linux部分"></a>Linux部分</h2><h3 id="任务一：创建一个Linux用户"><a href="#任务一：创建一个Linux用户" class="headerlink" title="任务一：创建一个Linux用户"></a>任务一：创建一个Linux用户</h3><h4 id="1-新增用户"><a href="#1-新增用户" class="headerlink" title="1.新增用户"></a>1.新增用户</h4><h5 id="1-1-adduser"><a href="#1-1-adduser" class="headerlink" title="1.1 adduser"></a>1.1 adduser</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">创建命令：sudo adduser monika</span><br><span class="line">删除命令：sudo deluser monika</span><br></pre></td></tr></table></figure>

<p><strong>结果截图</strong></p>
<p>*要求输入一堆信息</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240222213429728.png" alt="image-20240222213429728"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240222213811715.png" alt="image-20240222213811715"></p>
<h5 id="1-2-useradd"><a href="#1-2-useradd" class="headerlink" title="1.2 useradd"></a>1.2 useradd</h5><p>*不会创建主目录和指定shell版本</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">创建命令：sudo useradd yuri</span><br><span class="line">删除命令：sudo userdel yuri</span><br><span class="line">为用户指定登录密码：sudo passwd <span class="number">123456</span></span><br><span class="line"><span class="comment">//需要自己命令指定目录和shell</span></span><br><span class="line">为用户指定命令解释程序(通常为/bin/bash)：sudo usermod -s /bin/bash yuri</span><br><span class="line">为用户指定用户主目录：sudo useradd -d /home/yuri yuri -m</span><br></pre></td></tr></table></figure>



<p><strong>带参数的useradd命令</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-d： 指定用户的主目录</span><br><span class="line"></span><br><span class="line">-m： 如果存在不再创建，但是此目录并不属于新创建用户；如果主目录不存在，则强制创建； -m和-d一块使用。</span><br><span class="line"></span><br><span class="line">-s： 指定用户登录时的shell版本</span><br><span class="line"></span><br><span class="line">-M： 不创建主目录</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>栗子：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240222164042914.png" alt="image-20240222164042914"></p>
<p><strong>结果截图</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240222213916686.png" alt="image-20240222213916686"></p>
<h5 id="2-删除用户"><a href="#2-删除用户" class="headerlink" title="2.删除用户"></a>2.删除用户</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//deluser</span></span><br><span class="line">只删除用户：sudo deluser tt</span><br><span class="line">连同用户的主目录和邮箱一起删除：sudo deluser --remove-home tt</span><br><span class="line">连同用户拥有的所有文件删除：sudo deluser --remove-all-files tt</span><br><span class="line"><span class="comment">//userdel</span></span><br><span class="line">只删除用户：sudo userdel tt</span><br><span class="line">连同用户主目录一起删除：sudo derlser -r tt</span><br></pre></td></tr></table></figure>



<h3 id="任务二：爱心代码"><a href="#任务二：爱心代码" class="headerlink" title="任务二：爱心代码"></a>任务二：爱心代码</h3><p>请看vcr</p>
<h3 id="任务三：-安装Linux版本的HDFS分布式存储并设置伪分布式集群安装（单机运行）"><a href="#任务三：-安装Linux版本的HDFS分布式存储并设置伪分布式集群安装（单机运行）" class="headerlink" title="任务三： 安装Linux版本的HDFS分布式存储并设置伪分布式集群安装（单机运行）"></a>任务三： 安装Linux版本的HDFS分布式存储并设置伪分布式集群安装（单机运行）</h3><h4 id="cat一份文件"><a href="#cat一份文件" class="headerlink" title="cat一份文件"></a>cat一份文件</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240223104714710.png" alt="image-20240223104714710"></p>
<h4 id="查看Datanode的工作状态"><a href="#查看Datanode的工作状态" class="headerlink" title="查看Datanode的工作状态"></a>查看Datanode的工作状态</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/Charles-Webber/blog-image1/raw/master/img/image-20240223105018889.png" alt="image-20240223105018889"></p>
<p>modify是文件内容变换，change是文件属性变化，当Atime在Mtime和Ctime之前才会被修改</p>
<p>access</p>
<p>change</p>
<p>modify</p>
<h2 id="拷打环节"><a href="#拷打环节" class="headerlink" title="拷打环节"></a>拷打环节</h2><h3 id="vrrp（网络层，ip报文封装，112）"><a href="#vrrp（网络层，ip报文封装，112）" class="headerlink" title="vrrp（网络层，ip报文封装，112）"></a>vrrp（网络层，ip报文封装，112）</h3><ul>
<li><p>VRRP路由器（VRRP Router）：运行VRRP协议的设备，它可能属于一个或多个虚拟路由器。</p>
</li>
<li><p>虚拟路由器（Virtual Router）：又称VRRP备份组，由一个Master设备和多个Backup设备组成，被当作一个共享局域网内主机的缺省网关。</p>
</li>
<li><p>Master路由器（Virtual Router Master）：承担转发报文任务的VRRP设备。</p>
</li>
<li><p>Backup路由器（Virtual Router Backup）：一组没有担转发任务的VRRP设备，当Master设备出现故障时，它们将通过竞选成为新的Master设备。</p>
</li>
<li><p>VRID：虚拟路由器的标识。</p>
</li>
<li><p>虚拟IP地址(Virtual IP Address)：虚拟路由器的IP地址，一个虚拟路由器可以有一个或多个IP地址，由用户配置。</p>
</li>
<li><p>IP地址拥有者（IP Address Owner）：如果一个VRRP设备将虚拟路由器IP地址作为真实的接口地址，则该设备被称为IP地址拥有者。如果IP地址拥有者是可用的，通常它将成为Master。</p>
</li>
<li><p>虚拟MAC地址（Virtual MAC Address）：虚拟路由器根据虚拟路由器ID生成的MAC地址。一个虚拟路由器拥有一个虚拟MAC地址，<strong>格式为：00-00-5E-00-01-{VRID}(VRRP for IPv4)；00-00-5E-00-02-{VRID}(VRRP for IPv6)。</strong>当虚拟路由器回应ARP请求时，使用虚拟MAC地址，而不是接口的真实MAC地址。</p>
</li>
</ul>
<h4 id="VRRP报文："><a href="#VRRP报文：" class="headerlink" title="VRRP报文："></a>VRRP报文：</h4><p>VRRP协议报文用来将Master设备的优先级和状态通告给同一备份组的所有Backup设备。</p>
<p>VRRP<strong>协议报文封装在IP报文</strong>中，发送到分配给VRRP的IP组播地址。在IP报文头中，源地址为发送报文接口的主IP地址（不是虚拟IP地址），<strong>目的地址是224.0.0.18，TTL是255，协议号是112。</strong></p>
<h4 id="VRRP状态机："><a href="#VRRP状态机：" class="headerlink" title="VRRP状态机："></a>VRRP状态机：</h4><p>VRRP协议中定义了三种状态机：初始状态（Initialize）、活动状态（Master）、备份状态（Backup）。其中，只有处于Master状态的设备才可以转发那些发送到虚拟IP地址的报文。</p>
<h4 id="VRRP的工作过程："><a href="#VRRP的工作过程：" class="headerlink" title="VRRP的工作过程："></a>VRRP的工作过程：</h4><p>VRRP备份组中的设备根据优先级选举出Master。Master设备通过发送<strong>免费ARP报文</strong>，将虚拟MAC地址通知给与它连接的设备或者主机，从而承担报文转发任务。</p>
<p>Master设备周期性向备份组内所有Backup设备<strong>发送VRRP通告报文，以公布其配置信息（优先级等）和工作状况。</strong><br>如果Master设备出现故障，VRRP备份组中的Backup设备将根据优先级重新选举新的Master。</p>
<p>VRRP<strong>备份组状态切换时</strong>，Master设备由一台设备切换为另外一台设备，新的Master设备会立即发送携带虚拟路由器的虚拟MAC地址和虚拟IP地址信息的<strong>免费ARP报文</strong>，刷新与它连接的主机或设备中的MAC表项，从而把用户流量引到新的Master设备上来，整个过程对用户完全透明。</p>
<p>原Master设备故障恢复时，若该设备为IP地址拥有者（优先级为255），将直接切换至Master状态。若该设备优先级小于255，将首先切换至Backup状态，且其优先级恢复为故障前配置的优先级。</p>
<p>Backup设备的优先级高于Master设备时，由Backup设备的工作方式（抢占方式和非抢占方式）决定是否重新选举Master。</p>
<p><strong>抢占模式：在抢占模式下，如果Backup设备的优先级比当前Master设备的优先级高，则主动将自己切换成Master。</strong></p>
<p><strong>非抢占模式：在非抢占模式下，只要Master设备没有出现故障，Backup设备即使随后被配置了更高的优先级也不会成为Master设备。</strong></p>
<h3 id="traffic-filter"><a href="#traffic-filter" class="headerlink" title="traffic-filter"></a>traffic-filter</h3><h4 id="acl分类"><a href="#acl分类" class="headerlink" title="acl分类"></a>acl分类</h4><ul>
<li>基本acl，2000-2999</li>
<li>高级acl，3000-3999</li>
<li>二层acl，4000-4999</li>
<li>用户自定义acl，5000-5999</li>
<li>用户acl，6000-6999</li>
</ul>
<h4 id="traffic-policy对比！！！！"><a href="#traffic-policy对比！！！！" class="headerlink" title="traffic-policy对比！！！！"></a>traffic-policy对比！！！！</h4><ul>
<li>Traffic Policy：Traffic Policy主要用于对网络中的流量进行管理和控制。Traffic Policy可以设置如下参数：端口带宽、限速、限流、优先级、队列等。通过Traffic Policy，管理员可以按照自己的需求来规划和配置网络带宽资源，以保证业务的正常运行和网络的高效利用。</li>
<li>Traffic Filter：Traffic Filter主要用于对网络中的数据包进行过滤和拦截。Traffic Filter可以根据IP地址、源端口、目标端口、协议类型等参数对数据包进行匹配，并选择性地允许或者禁止其通过特定的端口或者路由器。Traffic Filter通常用于实现网络安全防护和数据隔离等功能。</li>
</ul>
<h4 id="traffic-policy怎么配置！！！"><a href="#traffic-policy怎么配置！！！" class="headerlink" title="traffic-policy怎么配置！！！"></a>traffic-policy怎么配置！！！</h4><h4 id="DHCP中继"><a href="#DHCP中继" class="headerlink" title="DHCP中继"></a>DHCP中继</h4><p> DHCP客户使用IP广播来寻找同一网段上的DHCP服务器。当服务器和客户段处在不同网段，即被路由器分割开来时，路由器是不会转发这样广播包的。因此可能需要在每个网段上设置一个DHCP服务器，虽然DHCP只消耗很小的一部分资源的，但多个 DHCP服务器，毕竟要带来管理上的不方便。DHCP中继的使用使得一个DHCP服务器同时为多个网段服务成为可能，配置DHCP中继的网络设备可以在不同网段上从DHCP总服务器获取IP地址分配给下面的各主机，路由器或者三层交换机都可以充当DHCP中继</p>
<h4 id="dhcp工作原理"><a href="#dhcp工作原理" class="headerlink" title="dhcp工作原理"></a>dhcp工作原理</h4><ol>
<li>dhcp discover发现dhcp服务器</li>
<li>dhcp offer告诉对方可以提供ip</li>
<li>dhcp request 请求ip</li>
<li>dhcp ack 给ip</li>
</ol>
<p>除此之外还有4种报文</p>
<p>dhcp nak 服务器拒绝分配ip</p>
<p>dhcp release 主机不要ip了，给服务器说一声</p>
<p>dhcp decline 主机说这个ip用不了</p>
<p>dhcp inform不怎么用</p>
<h3 id="bfd（应用层协议，封装在udp中，3785）"><a href="#bfd（应用层协议，封装在udp中，3785）" class="headerlink" title="bfd（应用层协议，封装在udp中，3785）"></a>bfd（应用层协议，封装在udp中，3785）</h3><p><strong>BFD在两台网络设备上建立会话，用来检测网络设备间的双向转发路径，为上层应用服务</strong>。会话建立后会周期性地快速发送BFD报文，如果在检测时间内没有收到BFD报文则认为该双向转发路径发生了故障，通知被服务的上层应用进行相应的处理。<br><strong>BFD协议本身没有邻居发现机制，BFD邻居的创建依赖于上层的应用</strong>。根据BFD会话建立过程可以将其分为动态BFD和静态BFD。</p>
<p><strong>动态BFD</strong>：是通过上层应用(例如OSPF)的邻居发现机制，有上层应用将邻居信息发送到BFD模块，BFD则根据接收到的邻居信息创建会话并建立自己的邻居。<br><strong>静态BFD</strong>：是通过静态配置手动添加对端的邻居信息来创建会话，静态BFD配置完后，会定时发送BFD控制报文。只有对端接口也开启BFD的情况下并对本端的BFD报文做出正确应答后，双方建立邻居信息。</p>
<p><strong>Echo报文采用UDP封装，目的端口号为3785，目的IP地址为发送接口的地址，源IP地址由配置产生（配置的源IP地址要避免产生ICMP重定向）。</strong></p>
<h4 id="状态机"><a href="#状态机" class="headerlink" title="状态机"></a>状态机</h4><ul>
<li><p>BSM_AdminDown		   </p>
</li>
<li><p>BSM_Down		             </p>
</li>
<li><p>BSM_Init		        </p>
</li>
<li><p>BSM_Up</p>
<p>会话状态变化通过<strong>BFD报文的State字段传递</strong>，系统根据自己本地的会话状态和接收到的对端BFD报文驱动状态改变。</p>
<p><strong>BFD状态机的建立和拆除都采用三次握手机制。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20191019003813753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3MyNjAzODk4MjYw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>互发down报文，收到对方的down后，迁移到init状态</li>
<li>互发init报文，收到对方的init报文后就迁移到UP</li>
</ul>
</li>
</ul>
<h4 id="mstp（二层协议）"><a href="#mstp（二层协议）" class="headerlink" title="mstp（二层协议）"></a>mstp（二层协议）</h4></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io">charles-webber</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://charles-webebr.github.io/2024/07/10/2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1/">http://charles-webebr.github.io/2024/07/10/2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://charles-webebr.github.io" target="_blank">asuka&ayanami</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/10/2023017--%E5%BC%A0%E5%81%A5--%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2024/07/10/%E4%BA%91%E8%AE%A1%E7%AE%971/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NzUzOS8zNDAwMw=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/6o/wallhaven-6o36qq.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">charles-webber</div><div class="author-info__description">never give up,keep moving</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/charles-webber"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://bilibili.com/" target="_blank" title="bilibili"><i class="fa-regular fa-heart"></i></a><a class="social-icon" href="mailto:1484145649@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://leetcode.cn/" target="_blank" title="gaming()"><i class="fa-solid fa-gamepad"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Dear Miss.? When i think of you'I'm reminded of the beautiful plains of Iowa.The distance between us is breaking my spirit. My time and experiences without you are meaningless to me. Falling in love with you was the easiest thing i have ever done.Nothing matters but you.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#2024ict%E5%AF%92%E5%81%87%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">2024ict寒假任务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ensp%E9%83%A8%E5%88%86"><span class="toc-number">1.1.</span> <span class="toc-text">ensp部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E9%83%A8%E5%88%86"><span class="toc-number">1.2.</span> <span class="toc-text">Linux部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%B8%80%EF%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AALinux%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.1.</span> <span class="toc-text">任务一：创建一个Linux用户</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%B0%E5%A2%9E%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.新增用户</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-adduser"><span class="toc-number">1.2.1.1.1.</span> <span class="toc-text">1.1 adduser</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-useradd"><span class="toc-number">1.2.1.1.2.</span> <span class="toc-text">1.2 useradd</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.1.1.3.</span> <span class="toc-text">2.删除用户</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%BA%8C%EF%BC%9A%E7%88%B1%E5%BF%83%E4%BB%A3%E7%A0%81"><span class="toc-number">1.2.2.</span> <span class="toc-text">任务二：爱心代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%B8%89%EF%BC%9A-%E5%AE%89%E8%A3%85Linux%E7%89%88%E6%9C%AC%E7%9A%84HDFS%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85%EF%BC%88%E5%8D%95%E6%9C%BA%E8%BF%90%E8%A1%8C%EF%BC%89"><span class="toc-number">1.2.3.</span> <span class="toc-text">任务三： 安装Linux版本的HDFS分布式存储并设置伪分布式集群安装（单机运行）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cat%E4%B8%80%E4%BB%BD%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">cat一份文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8BDatanode%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%8A%B6%E6%80%81"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">查看Datanode的工作状态</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%B7%E6%89%93%E7%8E%AF%E8%8A%82"><span class="toc-number">1.3.</span> <span class="toc-text">拷打环节</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vrrp%EF%BC%88%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%8Cip%E6%8A%A5%E6%96%87%E5%B0%81%E8%A3%85%EF%BC%8C112%EF%BC%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">vrrp（网络层，ip报文封装，112）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#VRRP%E6%8A%A5%E6%96%87%EF%BC%9A"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">VRRP报文：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VRRP%E7%8A%B6%E6%80%81%E6%9C%BA%EF%BC%9A"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">VRRP状态机：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VRRP%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">VRRP的工作过程：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#traffic-filter"><span class="toc-number">1.3.2.</span> <span class="toc-text">traffic-filter</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#acl%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">acl分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#traffic-policy%E5%AF%B9%E6%AF%94%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%81"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">traffic-policy对比！！！！</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#traffic-policy%E6%80%8E%E4%B9%88%E9%85%8D%E7%BD%AE%EF%BC%81%EF%BC%81%EF%BC%81"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">traffic-policy怎么配置！！！</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DHCP%E4%B8%AD%E7%BB%A7"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">DHCP中继</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dhcp%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">dhcp工作原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bfd%EF%BC%88%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%EF%BC%8C%E5%B0%81%E8%A3%85%E5%9C%A8udp%E4%B8%AD%EF%BC%8C3785%EF%BC%89"><span class="toc-number">1.3.3.</span> <span class="toc-text">bfd（应用层协议，封装在udp中，3785）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">状态机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mstp%EF%BC%88%E4%BA%8C%E5%B1%82%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">mstp（二层协议）</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%80%83%E6%A0%B8%E6%80%BB%E7%BB%93/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.130Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openwrt/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openwrt/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.128Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openuler2/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openuler2/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.126Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler4/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler4/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.123Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/10/openeuler3/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/q2/wallhaven-q2p6mr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/07/10/openeuler3/" title="无题">无题</a><time datetime="2024-07-10T07:22:46.121Z" title="发表于 2024-07-10 15:22:46">2024-07-10</time></div></div></div></div></div></div></main><footer id="footer" style="background: -#77D78D"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By charles-webber</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Nice to meet you!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><div class="aplayer no-destroy" data-id="770116495" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'be1b66712a57497892f4e70a9fc0e4f9';
  var gaud_map_key = 'ec1c17e08135f345b1f956f3fa268b0c# 锟�??得�?�拷图web锟斤拷锟斤拷key';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'true';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item swiper_container_card" style="height: auto;width: 100%"><div id="random"><div id="random-banner"><canvas id="peoplecanvas"></canvas></div><a id="random-hover" style="width:100%;height:auto;" href="javascript:toRandomPost()" rel="external nofollow noreferrer" one-link-mark="yes"><i class="fa fa-paper-plane" style="margin-left:10px"></i><div style="margin-left:10px">随便逛逛<i class="fa-solid fa-arrow-right" style="margin-left:10px"></i></div></a></div><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wallhaven.cc/w/85j9qo" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">python learning</a><div class="blog-slider__text">python learning for AI</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/10/09/python学习之路/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="2022/11/27/预习作业：/S:\Blog\source\_posts\从0开始学习c语言\wallhaven-28p95m.png" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">c for class</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/27/预习作业：/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/zy/wallhaven-zygeko.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">answer</a><div class="blog-slider__text">a freshman's practice</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/10/29/answer/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper_init.js"></script><script data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/people.min.js"></script><script async src="/anzhiyu/random.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>